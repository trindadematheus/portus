"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdatedesktop"]("main_window",{

/***/ "./src/components/DockerContainer/index.tsx":
/*!**************************************************!*\
  !*** ./src/components/DockerContainer/index.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"../../node_modules/.pnpm/react@18.0.0/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @react-three/drei */ \"../../node_modules/.pnpm/@react-three+drei@9.0.1_tynbetzobu5535th6wxw2e6u74/node_modules/@react-three/drei/core/Text.js\");\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @react-three/fiber */ \"../../node_modules/.pnpm/@react-three+fiber@8.0.11_l5xcbjfy74ndxsg7mnqlwl5f6y/node_modules/@react-three/fiber/dist/index-3c7aae97.esm.js\");\n/* harmony import */ var three_examples_jsm_loaders_BasisTextureLoader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/loaders/BasisTextureLoader */ \"../../node_modules/.pnpm/three@0.139.1/node_modules/three/examples/jsm/loaders/BasisTextureLoader.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ \"../../node_modules/.pnpm/react@18.0.0/node_modules/react/jsx-runtime.js\");\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\n\n\n\n\n\n\n\n\nfunction DockerContainer(props) {\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false),\n      _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n      clicked = _useState2[0],\n      click = _useState2[1];\n\n  var texture_1 = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_5__.z)(three_examples_jsm_loaders_BasisTextureLoader__WEBPACK_IMPORTED_MODULE_3__.BasisTextureLoader, './assets/blue-container.jpg');\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react__WEBPACK_IMPORTED_MODULE_2__.Suspense, {\n      fallback: null,\n      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"mesh\", _objectSpread(_objectSpread({}, props), {}, {\n        scale: clicked ? 1.5 : 1,\n        onClick: function onClick() {\n          return click(!clicked);\n        } // onPointerOver={event => hover(true)}\n        // onPointerOut={event => hover(false)}\n        ,\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"boxGeometry\", {\n          args: [2, 1, 1]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react__WEBPACK_IMPORTED_MODULE_2__.Suspense, {\n          fallback: null,\n          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_react_three_drei__WEBPACK_IMPORTED_MODULE_6__.Text, {\n            color: '#EC2D2D',\n            fontSize: 0.1,\n            lineHeight: 1,\n            letterSpacing: 0.02,\n            textAlign: 'left',\n            font: \"https://fonts.gstatic.com/s/raleway/v14/1Ptrg8zYS_SKggPNwK4vaqI.woff\",\n            anchorX: \"center\",\n            anchorY: \"middle\",\n            depthOffset: 12,\n            position: [0, 0, 0.7],\n            children: props.container.Names[0]\n          })\n        })]\n      }))\n    })\n  });\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DockerContainer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9Eb2NrZXJDb250YWluZXIvaW5kZXgudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFJQSxTQUFTSyxlQUFULENBQXlCQyxLQUF6QixFQUFxQztFQUNuQyxnQkFBeUJMLCtDQUFRLENBQUMsS0FBRCxDQUFqQztFQUFBO0VBQUEsSUFBT00sT0FBUDtFQUFBLElBQWdCQyxLQUFoQjs7RUFFQSxJQUFNQyxTQUFTLEdBQUdOLHFEQUFTLENBQUNDLDZGQUFELEVBQXFCLDZCQUFyQixDQUEzQjtFQUVBLG9CQUNFO0lBQUEsdUJBQ0UsdURBQUMsMkNBQUQ7TUFBVSxRQUFRLEVBQUUsSUFBcEI7TUFBQSx1QkFDRSxnR0FDTUUsS0FETjtRQUVFLEtBQUssRUFBRUMsT0FBTyxHQUFHLEdBQUgsR0FBUyxDQUZ6QjtRQUdFLE9BQU8sRUFBRTtVQUFBLE9BQU1DLEtBQUssQ0FBQyxDQUFDRCxPQUFGLENBQVg7UUFBQSxDQUhYLENBSUU7UUFDQTtRQUxGO1FBQUEsd0JBT0U7VUFBYSxJQUFJLEVBQUUsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVA7UUFBbkIsRUFQRixlQVNFLHVEQUFDLDJDQUFEO1VBQVUsUUFBUSxFQUFFLElBQXBCO1VBQUEsdUJBRUUsdURBQUMsbURBQUQ7WUFDRSxLQUFLLEVBQUUsU0FEVDtZQUVFLFFBQVEsRUFBRSxHQUZaO1lBR0UsVUFBVSxFQUFFLENBSGQ7WUFJRSxhQUFhLEVBQUUsSUFKakI7WUFLRSxTQUFTLEVBQUUsTUFMYjtZQU1FLElBQUksRUFBQyxzRUFOUDtZQU9FLE9BQU8sRUFBQyxRQVBWO1lBUUUsT0FBTyxFQUFDLFFBUlY7WUFTRSxXQUFXLEVBQUUsRUFUZjtZQVVFLFFBQVEsRUFBRSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sR0FBUCxDQVZaO1lBQUEsVUFZR0QsS0FBSyxDQUFDSSxTQUFOLENBQWdCQyxLQUFoQixDQUFzQixDQUF0QjtVQVpIO1FBRkYsRUFURjtNQUFBO0lBREY7RUFERixFQURGO0FBaUNEOztBQUVELGlFQUFlTixlQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVza3RvcC8uL3NyYy9jb21wb25lbnRzL0RvY2tlckNvbnRhaW5lci9pbmRleC50c3g/NDNlZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTdXNwZW5zZSwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFRleHQgfSBmcm9tICdAcmVhY3QtdGhyZWUvZHJlaSdcbmltcG9ydCB7IHVzZUxvYWRlciB9IGZyb20gJ0ByZWFjdC10aHJlZS9maWJlcidcbmltcG9ydCB7IEJhc2lzVGV4dHVyZUxvYWRlciB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0Jhc2lzVGV4dHVyZUxvYWRlcidcblxuaW1wb3J0IGdldENvbnRhaW5lckNvbG9yIGZyb20gJy4uLy4uL3V0aWxzL2dldENvbnRhaW5lckNvbG9yJ1xuXG5mdW5jdGlvbiBEb2NrZXJDb250YWluZXIocHJvcHM6IGFueSkge1xuICBjb25zdCBbY2xpY2tlZCwgY2xpY2tdID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgY29uc3QgdGV4dHVyZV8xID0gdXNlTG9hZGVyKEJhc2lzVGV4dHVyZUxvYWRlciwgJy4vYXNzZXRzL2JsdWUtY29udGFpbmVyLmpwZycpXG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPFN1c3BlbnNlIGZhbGxiYWNrPXtudWxsfT5cbiAgICAgICAgPG1lc2hcbiAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgc2NhbGU9e2NsaWNrZWQgPyAxLjUgOiAxfVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGNsaWNrKCFjbGlja2VkKX1cbiAgICAgICAgICAvLyBvblBvaW50ZXJPdmVyPXtldmVudCA9PiBob3Zlcih0cnVlKX1cbiAgICAgICAgICAvLyBvblBvaW50ZXJPdXQ9e2V2ZW50ID0+IGhvdmVyKGZhbHNlKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxib3hHZW9tZXRyeSBhcmdzPXtbMiwgMSwgMV19IC8+XG5cbiAgICAgICAgICA8U3VzcGVuc2UgZmFsbGJhY2s9e251bGx9PlxuICAgICAgICAgICAgey8qIEB0cy1pZ25vcmUgKi99XG4gICAgICAgICAgICA8VGV4dFxuICAgICAgICAgICAgICBjb2xvcj17JyNFQzJEMkQnfVxuICAgICAgICAgICAgICBmb250U2l6ZT17MC4xfVxuICAgICAgICAgICAgICBsaW5lSGVpZ2h0PXsxfVxuICAgICAgICAgICAgICBsZXR0ZXJTcGFjaW5nPXswLjAyfVxuICAgICAgICAgICAgICB0ZXh0QWxpZ249eydsZWZ0J31cbiAgICAgICAgICAgICAgZm9udD1cImh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20vcy9yYWxld2F5L3YxNC8xUHRyZzh6WVNfU0tnZ1BOd0s0dmFxSS53b2ZmXCJcbiAgICAgICAgICAgICAgYW5jaG9yWD1cImNlbnRlclwiXG4gICAgICAgICAgICAgIGFuY2hvclk9XCJtaWRkbGVcIlxuICAgICAgICAgICAgICBkZXB0aE9mZnNldD17MTJ9XG4gICAgICAgICAgICAgIHBvc2l0aW9uPXtbMCwgMCwgMC43XX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3Byb3BzLmNvbnRhaW5lci5OYW1lc1swXX1cbiAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICA8L1N1c3BlbnNlPlxuICAgICAgICA8L21lc2g+XG4gICAgICA8L1N1c3BlbnNlPlxuICAgIDwvPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IERvY2tlckNvbnRhaW5lclxuIl0sIm5hbWVzIjpbIlN1c3BlbnNlIiwidXNlU3RhdGUiLCJUZXh0IiwidXNlTG9hZGVyIiwiQmFzaXNUZXh0dXJlTG9hZGVyIiwiRG9ja2VyQ29udGFpbmVyIiwicHJvcHMiLCJjbGlja2VkIiwiY2xpY2siLCJ0ZXh0dXJlXzEiLCJjb250YWluZXIiLCJOYW1lcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/DockerContainer/index.tsx\n");

/***/ }),

/***/ "../../node_modules/.pnpm/three@0.139.1/node_modules/three/examples/jsm/loaders/BasisTextureLoader.js":
/*!************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/three@0.139.1/node_modules/three/examples/jsm/loaders/BasisTextureLoader.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BasisTextureLoader\": () => (/* binding */ BasisTextureLoader)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"../../node_modules/.pnpm/three@0.139.1/node_modules/three/build/three.module.js\");\n\n\n/**\n * Loader for Basis Universal GPU Texture Codec.\n *\n * Basis Universal is a \"supercompressed\" GPU texture and texture video\n * compression system that outputs a highly compressed intermediate file format\n * (.basis) that can be quickly transcoded to a wide variety of GPU texture\n * compression formats.\n *\n * This loader parallelizes the transcoding process across a configurable number\n * of web workers, before transferring the transcoded compressed texture back\n * to the main thread.\n */\n\nconst _taskCache = new WeakMap();\n\nclass BasisTextureLoader extends three__WEBPACK_IMPORTED_MODULE_0__.Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.transcoderPath = '';\n\t\tthis.transcoderBinary = null;\n\t\tthis.transcoderPending = null;\n\n\t\tthis.workerLimit = 4;\n\t\tthis.workerPool = [];\n\t\tthis.workerNextTaskID = 1;\n\t\tthis.workerSourceURL = '';\n\t\tthis.workerConfig = null;\n\n\t\tconsole.warn(\n\n\t\t\t'THREE.BasisTextureLoader: This loader is deprecated, and will be removed in a future release. '\n\t\t\t+ 'Instead, use Basis Universal compression in KTX2 (.ktx2) files with THREE.KTX2Loader.'\n\n\t\t);\n\n\t}\n\n\tsetTranscoderPath( path ) {\n\n\t\tthis.transcoderPath = path;\n\n\t\treturn this;\n\n\t}\n\n\tsetWorkerLimit( workerLimit ) {\n\n\t\tthis.workerLimit = workerLimit;\n\n\t\treturn this;\n\n\t}\n\n\tdetectSupport( renderer ) {\n\n\t\tthis.workerConfig = {\n\t\t\tastcSupported: renderer.extensions.has( 'WEBGL_compressed_texture_astc' ),\n\t\t\tetc1Supported: renderer.extensions.has( 'WEBGL_compressed_texture_etc1' ),\n\t\t\tetc2Supported: renderer.extensions.has( 'WEBGL_compressed_texture_etc' ),\n\t\t\tdxtSupported: renderer.extensions.has( 'WEBGL_compressed_texture_s3tc' ),\n\t\t\tbptcSupported: renderer.extensions.has( 'EXT_texture_compression_bptc' ),\n\t\t\tpvrtcSupported: renderer.extensions.has( 'WEBGL_compressed_texture_pvrtc' )\n\t\t\t\t|| renderer.extensions.has( 'WEBKIT_WEBGL_compressed_texture_pvrtc' )\n\t\t};\n\n\t\treturn this;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst loader = new three__WEBPACK_IMPORTED_MODULE_0__.FileLoader( this.manager );\n\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tconst texture = new three__WEBPACK_IMPORTED_MODULE_0__.CompressedTexture();\n\n\t\tloader.load( url, ( buffer ) => {\n\n\t\t\t// Check for an existing task using this buffer. A transferred buffer cannot be transferred\n\t\t\t// again from this thread.\n\t\t\tif ( _taskCache.has( buffer ) ) {\n\n\t\t\t\tconst cachedTask = _taskCache.get( buffer );\n\n\t\t\t\treturn cachedTask.promise.then( onLoad ).catch( onError );\n\n\t\t\t}\n\n\t\t\tthis._createTexture( [ buffer ] )\n\t\t\t\t.then( function ( _texture ) {\n\n\t\t\t\t\ttexture.copy( _texture );\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t} )\n\t\t\t\t.catch( onError );\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t}\n\n\t/** Low-level transcoding API, exposed for use by KTX2Loader. */\n\tparseInternalAsync( options ) {\n\n\t\tconst { levels } = options;\n\n\t\tconst buffers = new Set();\n\n\t\tfor ( let i = 0; i < levels.length; i ++ ) {\n\n\t\t\tbuffers.add( levels[ i ].data.buffer );\n\n\t\t}\n\n\t\treturn this._createTexture( Array.from( buffers ), { ...options, lowLevel: true } );\n\n\t}\n\n\t/**\n\t * @param {ArrayBuffer[]} buffers\n\t * @param {object?} config\n\t * @return {Promise<CompressedTexture>}\n\t */\n\t_createTexture( buffers, config = {} ) {\n\n\t\tlet worker;\n\t\tlet taskID;\n\n\t\tconst taskConfig = config;\n\t\tlet taskCost = 0;\n\n\t\tfor ( let i = 0; i < buffers.length; i ++ ) {\n\n\t\t\ttaskCost += buffers[ i ].byteLength;\n\n\t\t}\n\n\t\tconst texturePending = this._allocateWorker( taskCost )\n\t\t\t.then( ( _worker ) => {\n\n\t\t\t\tworker = _worker;\n\t\t\t\ttaskID = this.workerNextTaskID ++;\n\n\t\t\t\treturn new Promise( ( resolve, reject ) => {\n\n\t\t\t\t\tworker._callbacks[ taskID ] = { resolve, reject };\n\n\t\t\t\t\tworker.postMessage( { type: 'transcode', id: taskID, buffers: buffers, taskConfig: taskConfig }, buffers );\n\n\t\t\t\t} );\n\n\t\t\t} )\n\t\t\t.then( ( message ) => {\n\n\t\t\t\tconst { mipmaps, width, height, format } = message;\n\n\t\t\t\tconst texture = new three__WEBPACK_IMPORTED_MODULE_0__.CompressedTexture( mipmaps, width, height, format, three__WEBPACK_IMPORTED_MODULE_0__.UnsignedByteType );\n\t\t\t\ttexture.minFilter = mipmaps.length === 1 ? three__WEBPACK_IMPORTED_MODULE_0__.LinearFilter : three__WEBPACK_IMPORTED_MODULE_0__.LinearMipmapLinearFilter;\n\t\t\t\ttexture.magFilter = three__WEBPACK_IMPORTED_MODULE_0__.LinearFilter;\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\treturn texture;\n\n\t\t\t} );\n\n\t\t// Note: replaced '.finally()' with '.catch().then()' block - iOS 11 support (#19416)\n\t\ttexturePending\n\t\t\t.catch( () => true )\n\t\t\t.then( () => {\n\n\t\t\t\tif ( worker && taskID ) {\n\n\t\t\t\t\tworker._taskLoad -= taskCost;\n\t\t\t\t\tdelete worker._callbacks[ taskID ];\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t// Cache the task result.\n\t\t_taskCache.set( buffers[ 0 ], { promise: texturePending } );\n\n\t\treturn texturePending;\n\n\t}\n\n\t_initTranscoder() {\n\n\t\tif ( ! this.transcoderPending ) {\n\n\t\t\t// Load transcoder wrapper.\n\t\t\tconst jsLoader = new three__WEBPACK_IMPORTED_MODULE_0__.FileLoader( this.manager );\n\t\t\tjsLoader.setPath( this.transcoderPath );\n\t\t\tjsLoader.setWithCredentials( this.withCredentials );\n\t\t\tconst jsContent = new Promise( ( resolve, reject ) => {\n\n\t\t\t\tjsLoader.load( 'basis_transcoder.js', resolve, undefined, reject );\n\n\t\t\t} );\n\n\t\t\t// Load transcoder WASM binary.\n\t\t\tconst binaryLoader = new three__WEBPACK_IMPORTED_MODULE_0__.FileLoader( this.manager );\n\t\t\tbinaryLoader.setPath( this.transcoderPath );\n\t\t\tbinaryLoader.setResponseType( 'arraybuffer' );\n\t\t\tbinaryLoader.setWithCredentials( this.withCredentials );\n\t\t\tconst binaryContent = new Promise( ( resolve, reject ) => {\n\n\t\t\t\tbinaryLoader.load( 'basis_transcoder.wasm', resolve, undefined, reject );\n\n\t\t\t} );\n\n\t\t\tthis.transcoderPending = Promise.all( [ jsContent, binaryContent ] )\n\t\t\t\t.then( ( [ jsContent, binaryContent ] ) => {\n\n\t\t\t\t\tconst fn = BasisTextureLoader.BasisWorker.toString();\n\n\t\t\t\t\tconst body = [\n\t\t\t\t\t\t'/* constants */',\n\t\t\t\t\t\t'let _EngineFormat = ' + JSON.stringify( BasisTextureLoader.EngineFormat ),\n\t\t\t\t\t\t'let _TranscoderFormat = ' + JSON.stringify( BasisTextureLoader.TranscoderFormat ),\n\t\t\t\t\t\t'let _BasisFormat = ' + JSON.stringify( BasisTextureLoader.BasisFormat ),\n\t\t\t\t\t\t'/* basis_transcoder.js */',\n\t\t\t\t\t\tjsContent,\n\t\t\t\t\t\t'/* worker */',\n\t\t\t\t\t\tfn.substring( fn.indexOf( '{' ) + 1, fn.lastIndexOf( '}' ) )\n\t\t\t\t\t].join( '\\n' );\n\n\t\t\t\t\tthis.workerSourceURL = URL.createObjectURL( new Blob( [ body ] ) );\n\t\t\t\t\tthis.transcoderBinary = binaryContent;\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\treturn this.transcoderPending;\n\n\t}\n\n\t_allocateWorker( taskCost ) {\n\n\t\treturn this._initTranscoder().then( () => {\n\n\t\t\tif ( this.workerPool.length < this.workerLimit ) {\n\n\t\t\t\tconst worker = new Worker( this.workerSourceURL );\n\n\t\t\t\tworker._callbacks = {};\n\t\t\t\tworker._taskLoad = 0;\n\n\t\t\t\tworker.postMessage( {\n\t\t\t\t\ttype: 'init',\n\t\t\t\t\tconfig: this.workerConfig,\n\t\t\t\t\ttranscoderBinary: this.transcoderBinary,\n\t\t\t\t} );\n\n\t\t\t\tworker.onmessage = function ( e ) {\n\n\t\t\t\t\tconst message = e.data;\n\n\t\t\t\t\tswitch ( message.type ) {\n\n\t\t\t\t\t\tcase 'transcode':\n\t\t\t\t\t\t\tworker._callbacks[ message.id ].resolve( message );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'error':\n\t\t\t\t\t\t\tworker._callbacks[ message.id ].reject( message );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.BasisTextureLoader: Unexpected message, \"' + message.type + '\"' );\n\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tthis.workerPool.push( worker );\n\n\t\t\t} else {\n\n\t\t\t\tthis.workerPool.sort( function ( a, b ) {\n\n\t\t\t\t\treturn a._taskLoad > b._taskLoad ? - 1 : 1;\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tconst worker = this.workerPool[ this.workerPool.length - 1 ];\n\n\t\t\tworker._taskLoad += taskCost;\n\n\t\t\treturn worker;\n\n\t\t} );\n\n\t}\n\n\tdispose() {\n\n\t\tfor ( let i = 0; i < this.workerPool.length; i ++ ) {\n\n\t\t\tthis.workerPool[ i ].terminate();\n\n\t\t}\n\n\t\tthis.workerPool.length = 0;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/* CONSTANTS */\n\nBasisTextureLoader.BasisFormat = {\n\tETC1S: 0,\n\tUASTC_4x4: 1,\n};\n\nBasisTextureLoader.TranscoderFormat = {\n\tETC1: 0,\n\tETC2: 1,\n\tBC1: 2,\n\tBC3: 3,\n\tBC4: 4,\n\tBC5: 5,\n\tBC7_M6_OPAQUE_ONLY: 6,\n\tBC7_M5: 7,\n\tPVRTC1_4_RGB: 8,\n\tPVRTC1_4_RGBA: 9,\n\tASTC_4x4: 10,\n\tATC_RGB: 11,\n\tATC_RGBA_INTERPOLATED_ALPHA: 12,\n\tRGBA32: 13,\n\tRGB565: 14,\n\tBGR565: 15,\n\tRGBA4444: 16,\n};\n\nBasisTextureLoader.EngineFormat = {\n\tRGBAFormat: three__WEBPACK_IMPORTED_MODULE_0__.RGBAFormat,\n\tRGBA_ASTC_4x4_Format: three__WEBPACK_IMPORTED_MODULE_0__.RGBA_ASTC_4x4_Format,\n\tRGBA_BPTC_Format: three__WEBPACK_IMPORTED_MODULE_0__.RGBA_BPTC_Format,\n\tRGBA_ETC2_EAC_Format: three__WEBPACK_IMPORTED_MODULE_0__.RGBA_ETC2_EAC_Format,\n\tRGBA_PVRTC_4BPPV1_Format: three__WEBPACK_IMPORTED_MODULE_0__.RGBA_PVRTC_4BPPV1_Format,\n\tRGBA_S3TC_DXT5_Format: three__WEBPACK_IMPORTED_MODULE_0__.RGBA_S3TC_DXT5_Format,\n\tRGB_ETC1_Format: three__WEBPACK_IMPORTED_MODULE_0__.RGB_ETC1_Format,\n\tRGB_ETC2_Format: three__WEBPACK_IMPORTED_MODULE_0__.RGB_ETC2_Format,\n\tRGB_PVRTC_4BPPV1_Format: three__WEBPACK_IMPORTED_MODULE_0__.RGB_PVRTC_4BPPV1_Format,\n\tRGB_S3TC_DXT1_Format: three__WEBPACK_IMPORTED_MODULE_0__.RGB_S3TC_DXT1_Format,\n};\n\n\n/* WEB WORKER */\n\nBasisTextureLoader.BasisWorker = function () {\n\n\tlet config;\n\tlet transcoderPending;\n\tlet BasisModule;\n\n\tconst EngineFormat = _EngineFormat; // eslint-disable-line no-undef\n\tconst TranscoderFormat = _TranscoderFormat; // eslint-disable-line no-undef\n\tconst BasisFormat = _BasisFormat; // eslint-disable-line no-undef\n\n\tonmessage = function ( e ) {\n\n\t\tconst message = e.data;\n\n\t\tswitch ( message.type ) {\n\n\t\t\tcase 'init':\n\t\t\t\tconfig = message.config;\n\t\t\t\tinit( message.transcoderBinary );\n\t\t\t\tbreak;\n\n\t\t\tcase 'transcode':\n\t\t\t\ttranscoderPending.then( () => {\n\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\tconst { width, height, hasAlpha, mipmaps, format } = message.taskConfig.lowLevel\n\t\t\t\t\t\t\t? transcodeLowLevel( message.taskConfig )\n\t\t\t\t\t\t\t: transcode( message.buffers[ 0 ] );\n\n\t\t\t\t\t\tconst buffers = [];\n\n\t\t\t\t\t\tfor ( let i = 0; i < mipmaps.length; ++ i ) {\n\n\t\t\t\t\t\t\tbuffers.push( mipmaps[ i ].data.buffer );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.postMessage( { type: 'transcode', id: message.id, width, height, hasAlpha, mipmaps, format }, buffers );\n\n\t\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\t\tconsole.error( error );\n\n\t\t\t\t\t\tself.postMessage( { type: 'error', id: message.id, error: error.message } );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t};\n\n\tfunction init( wasmBinary ) {\n\n\t\ttranscoderPending = new Promise( ( resolve ) => {\n\n\t\t\tBasisModule = { wasmBinary, onRuntimeInitialized: resolve };\n\t\t\tBASIS( BasisModule ); // eslint-disable-line no-undef\n\n\t\t} ).then( () => {\n\n\t\t\tBasisModule.initializeBasis();\n\n\t\t} );\n\n\t}\n\n\tfunction transcodeLowLevel( taskConfig ) {\n\n\t\tconst { basisFormat, width, height, hasAlpha } = taskConfig;\n\n\t\tconst { transcoderFormat, engineFormat } = getTranscoderFormat( basisFormat, width, height, hasAlpha );\n\n\t\tconst blockByteLength = BasisModule.getBytesPerBlockOrPixel( transcoderFormat );\n\n\t\tassert( BasisModule.isFormatSupported( transcoderFormat ), 'THREE.BasisTextureLoader: Unsupported format.' );\n\n\t\tconst mipmaps = [];\n\n\t\tif ( basisFormat === BasisFormat.ETC1S ) {\n\n\t\t\tconst transcoder = new BasisModule.LowLevelETC1SImageTranscoder();\n\n\t\t\tconst { endpointCount, endpointsData, selectorCount, selectorsData, tablesData } = taskConfig.globalData;\n\n\t\t\ttry {\n\n\t\t\t\tlet ok;\n\n\t\t\t\tok = transcoder.decodePalettes( endpointCount, endpointsData, selectorCount, selectorsData );\n\n\t\t\t\tassert( ok, 'THREE.BasisTextureLoader: decodePalettes() failed.' );\n\n\t\t\t\tok = transcoder.decodeTables( tablesData );\n\n\t\t\t\tassert( ok, 'THREE.BasisTextureLoader: decodeTables() failed.' );\n\n\t\t\t\tfor ( let i = 0; i < taskConfig.levels.length; i ++ ) {\n\n\t\t\t\t\tconst level = taskConfig.levels[ i ];\n\t\t\t\t\tconst imageDesc = taskConfig.globalData.imageDescs[ i ];\n\n\t\t\t\t\tconst dstByteLength = getTranscodedImageByteLength( transcoderFormat, level.width, level.height );\n\t\t\t\t\tconst dst = new Uint8Array( dstByteLength );\n\n\t\t\t\t\tok = transcoder.transcodeImage(\n\t\t\t\t\t\ttranscoderFormat,\n\t\t\t\t\t\tdst, dstByteLength / blockByteLength,\n\t\t\t\t\t\tlevel.data,\n\t\t\t\t\t\tgetWidthInBlocks( transcoderFormat, level.width ),\n\t\t\t\t\t\tgetHeightInBlocks( transcoderFormat, level.height ),\n\t\t\t\t\t\tlevel.width, level.height, level.index,\n\t\t\t\t\t\timageDesc.rgbSliceByteOffset, imageDesc.rgbSliceByteLength,\n\t\t\t\t\t\timageDesc.alphaSliceByteOffset, imageDesc.alphaSliceByteLength,\n\t\t\t\t\t\timageDesc.imageFlags,\n\t\t\t\t\t\thasAlpha,\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t0, 0\n\t\t\t\t\t);\n\n\t\t\t\t\tassert( ok, 'THREE.BasisTextureLoader: transcodeImage() failed for level ' + level.index + '.' );\n\n\t\t\t\t\tmipmaps.push( { data: dst, width: level.width, height: level.height } );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\ttranscoder.delete();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tfor ( let i = 0; i < taskConfig.levels.length; i ++ ) {\n\n\t\t\t\tconst level = taskConfig.levels[ i ];\n\n\t\t\t\tconst dstByteLength = getTranscodedImageByteLength( transcoderFormat, level.width, level.height );\n\t\t\t\tconst dst = new Uint8Array( dstByteLength );\n\n\t\t\t\tconst ok = BasisModule.transcodeUASTCImage(\n\t\t\t\t\ttranscoderFormat,\n\t\t\t\t\tdst, dstByteLength / blockByteLength,\n\t\t\t\t\tlevel.data,\n\t\t\t\t\tgetWidthInBlocks( transcoderFormat, level.width ),\n\t\t\t\t\tgetHeightInBlocks( transcoderFormat, level.height ),\n\t\t\t\t\tlevel.width, level.height, level.index,\n\t\t\t\t\t0,\n\t\t\t\t\tlevel.data.byteLength,\n\t\t\t\t\t0,\n\t\t\t\t\thasAlpha,\n\t\t\t\t\tfalse,\n\t\t\t\t\t0, 0,\n\t\t\t\t\t- 1, - 1\n\t\t\t\t);\n\n\t\t\t\tassert( ok, 'THREE.BasisTextureLoader: transcodeUASTCImage() failed for level ' + level.index + '.' );\n\n\t\t\t\tmipmaps.push( { data: dst, width: level.width, height: level.height } );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn { width, height, hasAlpha, mipmaps, format: engineFormat };\n\n\t}\n\n\tfunction transcode( buffer ) {\n\n\t\tconst basisFile = new BasisModule.BasisFile( new Uint8Array( buffer ) );\n\n\t\tconst basisFormat = basisFile.isUASTC() ? BasisFormat.UASTC_4x4 : BasisFormat.ETC1S;\n\t\tconst width = basisFile.getImageWidth( 0, 0 );\n\t\tconst height = basisFile.getImageHeight( 0, 0 );\n\t\tconst levels = basisFile.getNumLevels( 0 );\n\t\tconst hasAlpha = basisFile.getHasAlpha();\n\n\t\tfunction cleanup() {\n\n\t\t\tbasisFile.close();\n\t\t\tbasisFile.delete();\n\n\t\t}\n\n\t\tconst { transcoderFormat, engineFormat } = getTranscoderFormat( basisFormat, width, height, hasAlpha );\n\n\t\tif ( ! width || ! height || ! levels ) {\n\n\t\t\tcleanup();\n\t\t\tthrow new Error( 'THREE.BasisTextureLoader:\tInvalid texture' );\n\n\t\t}\n\n\t\tif ( ! basisFile.startTranscoding() ) {\n\n\t\t\tcleanup();\n\t\t\tthrow new Error( 'THREE.BasisTextureLoader: .startTranscoding failed' );\n\n\t\t}\n\n\t\tconst mipmaps = [];\n\n\t\tfor ( let mip = 0; mip < levels; mip ++ ) {\n\n\t\t\tconst mipWidth = basisFile.getImageWidth( 0, mip );\n\t\t\tconst mipHeight = basisFile.getImageHeight( 0, mip );\n\t\t\tconst dst = new Uint8Array( basisFile.getImageTranscodedSizeInBytes( 0, mip, transcoderFormat ) );\n\n\t\t\tconst status = basisFile.transcodeImage(\n\t\t\t\tdst,\n\t\t\t\t0,\n\t\t\t\tmip,\n\t\t\t\ttranscoderFormat,\n\t\t\t\t0,\n\t\t\t\thasAlpha\n\t\t\t);\n\n\t\t\tif ( ! status ) {\n\n\t\t\t\tcleanup();\n\t\t\t\tthrow new Error( 'THREE.BasisTextureLoader: .transcodeImage failed.' );\n\n\t\t\t}\n\n\t\t\tmipmaps.push( { data: dst, width: mipWidth, height: mipHeight } );\n\n\t\t}\n\n\t\tcleanup();\n\n\t\treturn { width, height, hasAlpha, mipmaps, format: engineFormat };\n\n\t}\n\n\t//\n\n\t// Optimal choice of a transcoder target format depends on the Basis format (ETC1S or UASTC),\n\t// device capabilities, and texture dimensions. The list below ranks the formats separately\n\t// for ETC1S and UASTC.\n\t//\n\t// In some cases, transcoding UASTC to RGBA32 might be preferred for higher quality (at\n\t// significant memory cost) compared to ETC1/2, BC1/3, and PVRTC. The transcoder currently\n\t// chooses RGBA32 only as a last resort and does not expose that option to the caller.\n\tconst FORMAT_OPTIONS = [\n\t\t{\n\t\t\tif: 'astcSupported',\n\t\t\tbasisFormat: [ BasisFormat.UASTC_4x4 ],\n\t\t\ttranscoderFormat: [ TranscoderFormat.ASTC_4x4, TranscoderFormat.ASTC_4x4 ],\n\t\t\tengineFormat: [ EngineFormat.RGBA_ASTC_4x4_Format, EngineFormat.RGBA_ASTC_4x4_Format ],\n\t\t\tpriorityETC1S: Infinity,\n\t\t\tpriorityUASTC: 1,\n\t\t\tneedsPowerOfTwo: false,\n\t\t},\n\t\t{\n\t\t\tif: 'bptcSupported',\n\t\t\tbasisFormat: [ BasisFormat.ETC1S, BasisFormat.UASTC_4x4 ],\n\t\t\ttranscoderFormat: [ TranscoderFormat.BC7_M5, TranscoderFormat.BC7_M5 ],\n\t\t\tengineFormat: [ EngineFormat.RGBA_BPTC_Format, EngineFormat.RGBA_BPTC_Format ],\n\t\t\tpriorityETC1S: 3,\n\t\t\tpriorityUASTC: 2,\n\t\t\tneedsPowerOfTwo: false,\n\t\t},\n\t\t{\n\t\t\tif: 'dxtSupported',\n\t\t\tbasisFormat: [ BasisFormat.ETC1S, BasisFormat.UASTC_4x4 ],\n\t\t\ttranscoderFormat: [ TranscoderFormat.BC1, TranscoderFormat.BC3 ],\n\t\t\tengineFormat: [ EngineFormat.RGB_S3TC_DXT1_Format, EngineFormat.RGBA_S3TC_DXT5_Format ],\n\t\t\tpriorityETC1S: 4,\n\t\t\tpriorityUASTC: 5,\n\t\t\tneedsPowerOfTwo: false,\n\t\t},\n\t\t{\n\t\t\tif: 'etc2Supported',\n\t\t\tbasisFormat: [ BasisFormat.ETC1S, BasisFormat.UASTC_4x4 ],\n\t\t\ttranscoderFormat: [ TranscoderFormat.ETC1, TranscoderFormat.ETC2 ],\n\t\t\tengineFormat: [ EngineFormat.RGB_ETC2_Format, EngineFormat.RGBA_ETC2_EAC_Format ],\n\t\t\tpriorityETC1S: 1,\n\t\t\tpriorityUASTC: 3,\n\t\t\tneedsPowerOfTwo: false,\n\t\t},\n\t\t{\n\t\t\tif: 'etc1Supported',\n\t\t\tbasisFormat: [ BasisFormat.ETC1S, BasisFormat.UASTC_4x4 ],\n\t\t\ttranscoderFormat: [ TranscoderFormat.ETC1, TranscoderFormat.ETC1 ],\n\t\t\tengineFormat: [ EngineFormat.RGB_ETC1_Format, EngineFormat.RGB_ETC1_Format ],\n\t\t\tpriorityETC1S: 2,\n\t\t\tpriorityUASTC: 4,\n\t\t\tneedsPowerOfTwo: false,\n\t\t},\n\t\t{\n\t\t\tif: 'pvrtcSupported',\n\t\t\tbasisFormat: [ BasisFormat.ETC1S, BasisFormat.UASTC_4x4 ],\n\t\t\ttranscoderFormat: [ TranscoderFormat.PVRTC1_4_RGB, TranscoderFormat.PVRTC1_4_RGBA ],\n\t\t\tengineFormat: [ EngineFormat.RGB_PVRTC_4BPPV1_Format, EngineFormat.RGBA_PVRTC_4BPPV1_Format ],\n\t\t\tpriorityETC1S: 5,\n\t\t\tpriorityUASTC: 6,\n\t\t\tneedsPowerOfTwo: true,\n\t\t},\n\t];\n\n\tconst ETC1S_OPTIONS = FORMAT_OPTIONS.sort( function ( a, b ) {\n\n\t\treturn a.priorityETC1S - b.priorityETC1S;\n\n\t} );\n\tconst UASTC_OPTIONS = FORMAT_OPTIONS.sort( function ( a, b ) {\n\n\t\treturn a.priorityUASTC - b.priorityUASTC;\n\n\t} );\n\n\tfunction getTranscoderFormat( basisFormat, width, height, hasAlpha ) {\n\n\t\tlet transcoderFormat;\n\t\tlet engineFormat;\n\n\t\tconst options = basisFormat === BasisFormat.ETC1S ? ETC1S_OPTIONS : UASTC_OPTIONS;\n\n\t\tfor ( let i = 0; i < options.length; i ++ ) {\n\n\t\t\tconst opt = options[ i ];\n\n\t\t\tif ( ! config[ opt.if ] ) continue;\n\t\t\tif ( ! opt.basisFormat.includes( basisFormat ) ) continue;\n\t\t\tif ( opt.needsPowerOfTwo && ! ( isPowerOfTwo( width ) && isPowerOfTwo( height ) ) ) continue;\n\n\t\t\ttranscoderFormat = opt.transcoderFormat[ hasAlpha ? 1 : 0 ];\n\t\t\tengineFormat = opt.engineFormat[ hasAlpha ? 1 : 0 ];\n\n\t\t\treturn { transcoderFormat, engineFormat };\n\n\t\t}\n\n\t\tconsole.warn( 'THREE.BasisTextureLoader: No suitable compressed texture format found. Decoding to RGBA32.' );\n\n\t\ttranscoderFormat = TranscoderFormat.RGBA32;\n\t\tengineFormat = EngineFormat.RGBAFormat;\n\n\t\treturn { transcoderFormat, engineFormat };\n\n\t}\n\n\tfunction assert( ok, message ) {\n\n\t\tif ( ! ok ) throw new Error( message );\n\n\t}\n\n\tfunction getWidthInBlocks( transcoderFormat, width ) {\n\n\t\treturn Math.ceil( width / BasisModule.getFormatBlockWidth( transcoderFormat ) );\n\n\t}\n\n\tfunction getHeightInBlocks( transcoderFormat, height ) {\n\n\t\treturn Math.ceil( height / BasisModule.getFormatBlockHeight( transcoderFormat ) );\n\n\t}\n\n\tfunction getTranscodedImageByteLength( transcoderFormat, width, height ) {\n\n\t\tconst blockByteLength = BasisModule.getBytesPerBlockOrPixel( transcoderFormat );\n\n\t\tif ( BasisModule.formatIsUncompressed( transcoderFormat ) ) {\n\n\t\t\treturn width * height * blockByteLength;\n\n\t\t}\n\n\t\tif ( transcoderFormat === TranscoderFormat.PVRTC1_4_RGB\n\t\t\t\t|| transcoderFormat === TranscoderFormat.PVRTC1_4_RGBA ) {\n\n\t\t\t// GL requires extra padding for very small textures:\n\t\t\t// https://www.khronos.org/registry/OpenGL/extensions/IMG/IMG_texture_compression_pvrtc.txt\n\t\t\tconst paddedWidth = ( width + 3 ) & ~ 3;\n\t\t\tconst paddedHeight = ( height + 3 ) & ~ 3;\n\n\t\t\treturn ( Math.max( 8, paddedWidth ) * Math.max( 8, paddedHeight ) * 4 + 7 ) / 8;\n\n\t\t}\n\n\t\treturn ( getWidthInBlocks( transcoderFormat, width )\n\t\t\t* getHeightInBlocks( transcoderFormat, height )\n\t\t\t* blockByteLength );\n\n\t}\n\n\tfunction isPowerOfTwo( value ) {\n\n\t\tif ( value <= 2 ) return true;\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t}\n\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3RocmVlQDAuMTM5LjEvbm9kZV9tb2R1bGVzL3RocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0Jhc2lzVGV4dHVyZUxvYWRlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQWlCZTs7QUFFZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsaUNBQWlDLHlDQUFNOztBQUV2Qzs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxxQkFBcUIsNkNBQVU7O0FBRS9CO0FBQ0E7O0FBRUEsc0JBQXNCLG9EQUFpQjs7QUFFdkM7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSxNQUFNO0FBQ047O0FBRUEsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLFVBQVUsU0FBUzs7QUFFbkI7O0FBRUEsbUJBQW1CLG1CQUFtQjs7QUFFdEM7O0FBRUE7O0FBRUEsdURBQXVELDZCQUE2Qjs7QUFFcEY7O0FBRUE7QUFDQSxZQUFZLGVBQWU7QUFDM0IsWUFBWSxTQUFTO0FBQ3JCLGFBQWE7QUFDYjtBQUNBLHNDQUFzQzs7QUFFdEM7QUFDQTs7QUFFQTtBQUNBOztBQUVBLG1CQUFtQixvQkFBb0I7O0FBRXZDOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSxxQ0FBcUM7O0FBRXJDLDJCQUEyQix5RUFBeUU7O0FBRXBHLE1BQU07O0FBRU4sS0FBSztBQUNM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Wjs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLFdBQVc7O0FBRVg7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRThCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVza3RvcC8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vdGhyZWVAMC4xMzkuMS9ub2RlX21vZHVsZXMvdGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvQmFzaXNUZXh0dXJlTG9hZGVyLmpzPzY4NTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcblx0Q29tcHJlc3NlZFRleHR1cmUsXG5cdEZpbGVMb2FkZXIsXG5cdExpbmVhckZpbHRlcixcblx0TGluZWFyTWlwbWFwTGluZWFyRmlsdGVyLFxuXHRMb2FkZXIsXG5cdFJHQkFGb3JtYXQsXG5cdFJHQkFfQVNUQ180eDRfRm9ybWF0LFxuXHRSR0JBX0JQVENfRm9ybWF0LFxuXHRSR0JBX0VUQzJfRUFDX0Zvcm1hdCxcblx0UkdCQV9QVlJUQ180QlBQVjFfRm9ybWF0LFxuXHRSR0JBX1MzVENfRFhUNV9Gb3JtYXQsXG5cdFJHQl9FVEMxX0Zvcm1hdCxcblx0UkdCX0VUQzJfRm9ybWF0LFxuXHRSR0JfUFZSVENfNEJQUFYxX0Zvcm1hdCxcblx0UkdCX1MzVENfRFhUMV9Gb3JtYXQsXG5cdFVuc2lnbmVkQnl0ZVR5cGVcbn0gZnJvbSAndGhyZWUnO1xuXG4vKipcbiAqIExvYWRlciBmb3IgQmFzaXMgVW5pdmVyc2FsIEdQVSBUZXh0dXJlIENvZGVjLlxuICpcbiAqIEJhc2lzIFVuaXZlcnNhbCBpcyBhIFwic3VwZXJjb21wcmVzc2VkXCIgR1BVIHRleHR1cmUgYW5kIHRleHR1cmUgdmlkZW9cbiAqIGNvbXByZXNzaW9uIHN5c3RlbSB0aGF0IG91dHB1dHMgYSBoaWdobHkgY29tcHJlc3NlZCBpbnRlcm1lZGlhdGUgZmlsZSBmb3JtYXRcbiAqICguYmFzaXMpIHRoYXQgY2FuIGJlIHF1aWNrbHkgdHJhbnNjb2RlZCB0byBhIHdpZGUgdmFyaWV0eSBvZiBHUFUgdGV4dHVyZVxuICogY29tcHJlc3Npb24gZm9ybWF0cy5cbiAqXG4gKiBUaGlzIGxvYWRlciBwYXJhbGxlbGl6ZXMgdGhlIHRyYW5zY29kaW5nIHByb2Nlc3MgYWNyb3NzIGEgY29uZmlndXJhYmxlIG51bWJlclxuICogb2Ygd2ViIHdvcmtlcnMsIGJlZm9yZSB0cmFuc2ZlcnJpbmcgdGhlIHRyYW5zY29kZWQgY29tcHJlc3NlZCB0ZXh0dXJlIGJhY2tcbiAqIHRvIHRoZSBtYWluIHRocmVhZC5cbiAqL1xuXG5jb25zdCBfdGFza0NhY2hlID0gbmV3IFdlYWtNYXAoKTtcblxuY2xhc3MgQmFzaXNUZXh0dXJlTG9hZGVyIGV4dGVuZHMgTG9hZGVyIHtcblxuXHRjb25zdHJ1Y3RvciggbWFuYWdlciApIHtcblxuXHRcdHN1cGVyKCBtYW5hZ2VyICk7XG5cblx0XHR0aGlzLnRyYW5zY29kZXJQYXRoID0gJyc7XG5cdFx0dGhpcy50cmFuc2NvZGVyQmluYXJ5ID0gbnVsbDtcblx0XHR0aGlzLnRyYW5zY29kZXJQZW5kaW5nID0gbnVsbDtcblxuXHRcdHRoaXMud29ya2VyTGltaXQgPSA0O1xuXHRcdHRoaXMud29ya2VyUG9vbCA9IFtdO1xuXHRcdHRoaXMud29ya2VyTmV4dFRhc2tJRCA9IDE7XG5cdFx0dGhpcy53b3JrZXJTb3VyY2VVUkwgPSAnJztcblx0XHR0aGlzLndvcmtlckNvbmZpZyA9IG51bGw7XG5cblx0XHRjb25zb2xlLndhcm4oXG5cblx0XHRcdCdUSFJFRS5CYXNpc1RleHR1cmVMb2FkZXI6IFRoaXMgbG9hZGVyIGlzIGRlcHJlY2F0ZWQsIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgcmVsZWFzZS4gJ1xuXHRcdFx0KyAnSW5zdGVhZCwgdXNlIEJhc2lzIFVuaXZlcnNhbCBjb21wcmVzc2lvbiBpbiBLVFgyICgua3R4MikgZmlsZXMgd2l0aCBUSFJFRS5LVFgyTG9hZGVyLidcblxuXHRcdCk7XG5cblx0fVxuXG5cdHNldFRyYW5zY29kZXJQYXRoKCBwYXRoICkge1xuXG5cdFx0dGhpcy50cmFuc2NvZGVyUGF0aCA9IHBhdGg7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0V29ya2VyTGltaXQoIHdvcmtlckxpbWl0ICkge1xuXG5cdFx0dGhpcy53b3JrZXJMaW1pdCA9IHdvcmtlckxpbWl0O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRldGVjdFN1cHBvcnQoIHJlbmRlcmVyICkge1xuXG5cdFx0dGhpcy53b3JrZXJDb25maWcgPSB7XG5cdFx0XHRhc3RjU3VwcG9ydGVkOiByZW5kZXJlci5leHRlbnNpb25zLmhhcyggJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjJyApLFxuXHRcdFx0ZXRjMVN1cHBvcnRlZDogcmVuZGVyZXIuZXh0ZW5zaW9ucy5oYXMoICdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMScgKSxcblx0XHRcdGV0YzJTdXBwb3J0ZWQ6IHJlbmRlcmVyLmV4dGVuc2lvbnMuaGFzKCAnV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YycgKSxcblx0XHRcdGR4dFN1cHBvcnRlZDogcmVuZGVyZXIuZXh0ZW5zaW9ucy5oYXMoICdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YycgKSxcblx0XHRcdGJwdGNTdXBwb3J0ZWQ6IHJlbmRlcmVyLmV4dGVuc2lvbnMuaGFzKCAnRVhUX3RleHR1cmVfY29tcHJlc3Npb25fYnB0YycgKSxcblx0XHRcdHB2cnRjU3VwcG9ydGVkOiByZW5kZXJlci5leHRlbnNpb25zLmhhcyggJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YycgKVxuXHRcdFx0XHR8fCByZW5kZXJlci5leHRlbnNpb25zLmhhcyggJ1dFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMnIClcblx0XHR9O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGxvYWQoIHVybCwgb25Mb2FkLCBvblByb2dyZXNzLCBvbkVycm9yICkge1xuXG5cdFx0Y29uc3QgbG9hZGVyID0gbmV3IEZpbGVMb2FkZXIoIHRoaXMubWFuYWdlciApO1xuXG5cdFx0bG9hZGVyLnNldFJlc3BvbnNlVHlwZSggJ2FycmF5YnVmZmVyJyApO1xuXHRcdGxvYWRlci5zZXRXaXRoQ3JlZGVudGlhbHMoIHRoaXMud2l0aENyZWRlbnRpYWxzICk7XG5cblx0XHRjb25zdCB0ZXh0dXJlID0gbmV3IENvbXByZXNzZWRUZXh0dXJlKCk7XG5cblx0XHRsb2FkZXIubG9hZCggdXJsLCAoIGJ1ZmZlciApID0+IHtcblxuXHRcdFx0Ly8gQ2hlY2sgZm9yIGFuIGV4aXN0aW5nIHRhc2sgdXNpbmcgdGhpcyBidWZmZXIuIEEgdHJhbnNmZXJyZWQgYnVmZmVyIGNhbm5vdCBiZSB0cmFuc2ZlcnJlZFxuXHRcdFx0Ly8gYWdhaW4gZnJvbSB0aGlzIHRocmVhZC5cblx0XHRcdGlmICggX3Rhc2tDYWNoZS5oYXMoIGJ1ZmZlciApICkge1xuXG5cdFx0XHRcdGNvbnN0IGNhY2hlZFRhc2sgPSBfdGFza0NhY2hlLmdldCggYnVmZmVyICk7XG5cblx0XHRcdFx0cmV0dXJuIGNhY2hlZFRhc2sucHJvbWlzZS50aGVuKCBvbkxvYWQgKS5jYXRjaCggb25FcnJvciApO1xuXG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX2NyZWF0ZVRleHR1cmUoIFsgYnVmZmVyIF0gKVxuXHRcdFx0XHQudGhlbiggZnVuY3Rpb24gKCBfdGV4dHVyZSApIHtcblxuXHRcdFx0XHRcdHRleHR1cmUuY29weSggX3RleHR1cmUgKTtcblx0XHRcdFx0XHR0ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuXHRcdFx0XHRcdGlmICggb25Mb2FkICkgb25Mb2FkKCB0ZXh0dXJlICk7XG5cblx0XHRcdFx0fSApXG5cdFx0XHRcdC5jYXRjaCggb25FcnJvciApO1xuXG5cdFx0fSwgb25Qcm9ncmVzcywgb25FcnJvciApO1xuXG5cdFx0cmV0dXJuIHRleHR1cmU7XG5cblx0fVxuXG5cdC8qKiBMb3ctbGV2ZWwgdHJhbnNjb2RpbmcgQVBJLCBleHBvc2VkIGZvciB1c2UgYnkgS1RYMkxvYWRlci4gKi9cblx0cGFyc2VJbnRlcm5hbEFzeW5jKCBvcHRpb25zICkge1xuXG5cdFx0Y29uc3QgeyBsZXZlbHMgfSA9IG9wdGlvbnM7XG5cblx0XHRjb25zdCBidWZmZXJzID0gbmV3IFNldCgpO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgbGV2ZWxzLmxlbmd0aDsgaSArKyApIHtcblxuXHRcdFx0YnVmZmVycy5hZGQoIGxldmVsc1sgaSBdLmRhdGEuYnVmZmVyICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5fY3JlYXRlVGV4dHVyZSggQXJyYXkuZnJvbSggYnVmZmVycyApLCB7IC4uLm9wdGlvbnMsIGxvd0xldmVsOiB0cnVlIH0gKTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7QXJyYXlCdWZmZXJbXX0gYnVmZmVyc1xuXHQgKiBAcGFyYW0ge29iamVjdD99IGNvbmZpZ1xuXHQgKiBAcmV0dXJuIHtQcm9taXNlPENvbXByZXNzZWRUZXh0dXJlPn1cblx0ICovXG5cdF9jcmVhdGVUZXh0dXJlKCBidWZmZXJzLCBjb25maWcgPSB7fSApIHtcblxuXHRcdGxldCB3b3JrZXI7XG5cdFx0bGV0IHRhc2tJRDtcblxuXHRcdGNvbnN0IHRhc2tDb25maWcgPSBjb25maWc7XG5cdFx0bGV0IHRhc2tDb3N0ID0gMDtcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IGJ1ZmZlcnMubGVuZ3RoOyBpICsrICkge1xuXG5cdFx0XHR0YXNrQ29zdCArPSBidWZmZXJzWyBpIF0uYnl0ZUxlbmd0aDtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHRleHR1cmVQZW5kaW5nID0gdGhpcy5fYWxsb2NhdGVXb3JrZXIoIHRhc2tDb3N0IClcblx0XHRcdC50aGVuKCAoIF93b3JrZXIgKSA9PiB7XG5cblx0XHRcdFx0d29ya2VyID0gX3dvcmtlcjtcblx0XHRcdFx0dGFza0lEID0gdGhpcy53b3JrZXJOZXh0VGFza0lEICsrO1xuXG5cdFx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSggKCByZXNvbHZlLCByZWplY3QgKSA9PiB7XG5cblx0XHRcdFx0XHR3b3JrZXIuX2NhbGxiYWNrc1sgdGFza0lEIF0gPSB7IHJlc29sdmUsIHJlamVjdCB9O1xuXG5cdFx0XHRcdFx0d29ya2VyLnBvc3RNZXNzYWdlKCB7IHR5cGU6ICd0cmFuc2NvZGUnLCBpZDogdGFza0lELCBidWZmZXJzOiBidWZmZXJzLCB0YXNrQ29uZmlnOiB0YXNrQ29uZmlnIH0sIGJ1ZmZlcnMgKTtcblxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdH0gKVxuXHRcdFx0LnRoZW4oICggbWVzc2FnZSApID0+IHtcblxuXHRcdFx0XHRjb25zdCB7IG1pcG1hcHMsIHdpZHRoLCBoZWlnaHQsIGZvcm1hdCB9ID0gbWVzc2FnZTtcblxuXHRcdFx0XHRjb25zdCB0ZXh0dXJlID0gbmV3IENvbXByZXNzZWRUZXh0dXJlKCBtaXBtYXBzLCB3aWR0aCwgaGVpZ2h0LCBmb3JtYXQsIFVuc2lnbmVkQnl0ZVR5cGUgKTtcblx0XHRcdFx0dGV4dHVyZS5taW5GaWx0ZXIgPSBtaXBtYXBzLmxlbmd0aCA9PT0gMSA/IExpbmVhckZpbHRlciA6IExpbmVhck1pcG1hcExpbmVhckZpbHRlcjtcblx0XHRcdFx0dGV4dHVyZS5tYWdGaWx0ZXIgPSBMaW5lYXJGaWx0ZXI7XG5cdFx0XHRcdHRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzID0gZmFsc2U7XG5cdFx0XHRcdHRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xuXG5cdFx0XHRcdHJldHVybiB0ZXh0dXJlO1xuXG5cdFx0XHR9ICk7XG5cblx0XHQvLyBOb3RlOiByZXBsYWNlZCAnLmZpbmFsbHkoKScgd2l0aCAnLmNhdGNoKCkudGhlbigpJyBibG9jayAtIGlPUyAxMSBzdXBwb3J0ICgjMTk0MTYpXG5cdFx0dGV4dHVyZVBlbmRpbmdcblx0XHRcdC5jYXRjaCggKCkgPT4gdHJ1ZSApXG5cdFx0XHQudGhlbiggKCkgPT4ge1xuXG5cdFx0XHRcdGlmICggd29ya2VyICYmIHRhc2tJRCApIHtcblxuXHRcdFx0XHRcdHdvcmtlci5fdGFza0xvYWQgLT0gdGFza0Nvc3Q7XG5cdFx0XHRcdFx0ZGVsZXRlIHdvcmtlci5fY2FsbGJhY2tzWyB0YXNrSUQgXTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH0gKTtcblxuXHRcdC8vIENhY2hlIHRoZSB0YXNrIHJlc3VsdC5cblx0XHRfdGFza0NhY2hlLnNldCggYnVmZmVyc1sgMCBdLCB7IHByb21pc2U6IHRleHR1cmVQZW5kaW5nIH0gKTtcblxuXHRcdHJldHVybiB0ZXh0dXJlUGVuZGluZztcblxuXHR9XG5cblx0X2luaXRUcmFuc2NvZGVyKCkge1xuXG5cdFx0aWYgKCAhIHRoaXMudHJhbnNjb2RlclBlbmRpbmcgKSB7XG5cblx0XHRcdC8vIExvYWQgdHJhbnNjb2RlciB3cmFwcGVyLlxuXHRcdFx0Y29uc3QganNMb2FkZXIgPSBuZXcgRmlsZUxvYWRlciggdGhpcy5tYW5hZ2VyICk7XG5cdFx0XHRqc0xvYWRlci5zZXRQYXRoKCB0aGlzLnRyYW5zY29kZXJQYXRoICk7XG5cdFx0XHRqc0xvYWRlci5zZXRXaXRoQ3JlZGVudGlhbHMoIHRoaXMud2l0aENyZWRlbnRpYWxzICk7XG5cdFx0XHRjb25zdCBqc0NvbnRlbnQgPSBuZXcgUHJvbWlzZSggKCByZXNvbHZlLCByZWplY3QgKSA9PiB7XG5cblx0XHRcdFx0anNMb2FkZXIubG9hZCggJ2Jhc2lzX3RyYW5zY29kZXIuanMnLCByZXNvbHZlLCB1bmRlZmluZWQsIHJlamVjdCApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIExvYWQgdHJhbnNjb2RlciBXQVNNIGJpbmFyeS5cblx0XHRcdGNvbnN0IGJpbmFyeUxvYWRlciA9IG5ldyBGaWxlTG9hZGVyKCB0aGlzLm1hbmFnZXIgKTtcblx0XHRcdGJpbmFyeUxvYWRlci5zZXRQYXRoKCB0aGlzLnRyYW5zY29kZXJQYXRoICk7XG5cdFx0XHRiaW5hcnlMb2FkZXIuc2V0UmVzcG9uc2VUeXBlKCAnYXJyYXlidWZmZXInICk7XG5cdFx0XHRiaW5hcnlMb2FkZXIuc2V0V2l0aENyZWRlbnRpYWxzKCB0aGlzLndpdGhDcmVkZW50aWFscyApO1xuXHRcdFx0Y29uc3QgYmluYXJ5Q29udGVudCA9IG5ldyBQcm9taXNlKCAoIHJlc29sdmUsIHJlamVjdCApID0+IHtcblxuXHRcdFx0XHRiaW5hcnlMb2FkZXIubG9hZCggJ2Jhc2lzX3RyYW5zY29kZXIud2FzbScsIHJlc29sdmUsIHVuZGVmaW5lZCwgcmVqZWN0ICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdFx0dGhpcy50cmFuc2NvZGVyUGVuZGluZyA9IFByb21pc2UuYWxsKCBbIGpzQ29udGVudCwgYmluYXJ5Q29udGVudCBdIClcblx0XHRcdFx0LnRoZW4oICggWyBqc0NvbnRlbnQsIGJpbmFyeUNvbnRlbnQgXSApID0+IHtcblxuXHRcdFx0XHRcdGNvbnN0IGZuID0gQmFzaXNUZXh0dXJlTG9hZGVyLkJhc2lzV29ya2VyLnRvU3RyaW5nKCk7XG5cblx0XHRcdFx0XHRjb25zdCBib2R5ID0gW1xuXHRcdFx0XHRcdFx0Jy8qIGNvbnN0YW50cyAqLycsXG5cdFx0XHRcdFx0XHQnbGV0IF9FbmdpbmVGb3JtYXQgPSAnICsgSlNPTi5zdHJpbmdpZnkoIEJhc2lzVGV4dHVyZUxvYWRlci5FbmdpbmVGb3JtYXQgKSxcblx0XHRcdFx0XHRcdCdsZXQgX1RyYW5zY29kZXJGb3JtYXQgPSAnICsgSlNPTi5zdHJpbmdpZnkoIEJhc2lzVGV4dHVyZUxvYWRlci5UcmFuc2NvZGVyRm9ybWF0ICksXG5cdFx0XHRcdFx0XHQnbGV0IF9CYXNpc0Zvcm1hdCA9ICcgKyBKU09OLnN0cmluZ2lmeSggQmFzaXNUZXh0dXJlTG9hZGVyLkJhc2lzRm9ybWF0ICksXG5cdFx0XHRcdFx0XHQnLyogYmFzaXNfdHJhbnNjb2Rlci5qcyAqLycsXG5cdFx0XHRcdFx0XHRqc0NvbnRlbnQsXG5cdFx0XHRcdFx0XHQnLyogd29ya2VyICovJyxcblx0XHRcdFx0XHRcdGZuLnN1YnN0cmluZyggZm4uaW5kZXhPZiggJ3snICkgKyAxLCBmbi5sYXN0SW5kZXhPZiggJ30nICkgKVxuXHRcdFx0XHRcdF0uam9pbiggJ1xcbicgKTtcblxuXHRcdFx0XHRcdHRoaXMud29ya2VyU291cmNlVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTCggbmV3IEJsb2IoIFsgYm9keSBdICkgKTtcblx0XHRcdFx0XHR0aGlzLnRyYW5zY29kZXJCaW5hcnkgPSBiaW5hcnlDb250ZW50O1xuXG5cdFx0XHRcdH0gKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnRyYW5zY29kZXJQZW5kaW5nO1xuXG5cdH1cblxuXHRfYWxsb2NhdGVXb3JrZXIoIHRhc2tDb3N0ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX2luaXRUcmFuc2NvZGVyKCkudGhlbiggKCkgPT4ge1xuXG5cdFx0XHRpZiAoIHRoaXMud29ya2VyUG9vbC5sZW5ndGggPCB0aGlzLndvcmtlckxpbWl0ICkge1xuXG5cdFx0XHRcdGNvbnN0IHdvcmtlciA9IG5ldyBXb3JrZXIoIHRoaXMud29ya2VyU291cmNlVVJMICk7XG5cblx0XHRcdFx0d29ya2VyLl9jYWxsYmFja3MgPSB7fTtcblx0XHRcdFx0d29ya2VyLl90YXNrTG9hZCA9IDA7XG5cblx0XHRcdFx0d29ya2VyLnBvc3RNZXNzYWdlKCB7XG5cdFx0XHRcdFx0dHlwZTogJ2luaXQnLFxuXHRcdFx0XHRcdGNvbmZpZzogdGhpcy53b3JrZXJDb25maWcsXG5cdFx0XHRcdFx0dHJhbnNjb2RlckJpbmFyeTogdGhpcy50cmFuc2NvZGVyQmluYXJ5LFxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0d29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uICggZSApIHtcblxuXHRcdFx0XHRcdGNvbnN0IG1lc3NhZ2UgPSBlLmRhdGE7XG5cblx0XHRcdFx0XHRzd2l0Y2ggKCBtZXNzYWdlLnR5cGUgKSB7XG5cblx0XHRcdFx0XHRcdGNhc2UgJ3RyYW5zY29kZSc6XG5cdFx0XHRcdFx0XHRcdHdvcmtlci5fY2FsbGJhY2tzWyBtZXNzYWdlLmlkIF0ucmVzb2x2ZSggbWVzc2FnZSApO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0Y2FzZSAnZXJyb3InOlxuXHRcdFx0XHRcdFx0XHR3b3JrZXIuX2NhbGxiYWNrc1sgbWVzc2FnZS5pZCBdLnJlamVjdCggbWVzc2FnZSApO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvciggJ1RIUkVFLkJhc2lzVGV4dHVyZUxvYWRlcjogVW5leHBlY3RlZCBtZXNzYWdlLCBcIicgKyBtZXNzYWdlLnR5cGUgKyAnXCInICk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fTtcblxuXHRcdFx0XHR0aGlzLndvcmtlclBvb2wucHVzaCggd29ya2VyICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0dGhpcy53b3JrZXJQb29sLnNvcnQoIGZ1bmN0aW9uICggYSwgYiApIHtcblxuXHRcdFx0XHRcdHJldHVybiBhLl90YXNrTG9hZCA+IGIuX3Rhc2tMb2FkID8gLSAxIDogMTtcblxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdH1cblxuXHRcdFx0Y29uc3Qgd29ya2VyID0gdGhpcy53b3JrZXJQb29sWyB0aGlzLndvcmtlclBvb2wubGVuZ3RoIC0gMSBdO1xuXG5cdFx0XHR3b3JrZXIuX3Rhc2tMb2FkICs9IHRhc2tDb3N0O1xuXG5cdFx0XHRyZXR1cm4gd29ya2VyO1xuXG5cdFx0fSApO1xuXG5cdH1cblxuXHRkaXNwb3NlKCkge1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgdGhpcy53b3JrZXJQb29sLmxlbmd0aDsgaSArKyApIHtcblxuXHRcdFx0dGhpcy53b3JrZXJQb29sWyBpIF0udGVybWluYXRlKCk7XG5cblx0XHR9XG5cblx0XHR0aGlzLndvcmtlclBvb2wubGVuZ3RoID0gMDtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxufVxuXG4vKiBDT05TVEFOVFMgKi9cblxuQmFzaXNUZXh0dXJlTG9hZGVyLkJhc2lzRm9ybWF0ID0ge1xuXHRFVEMxUzogMCxcblx0VUFTVENfNHg0OiAxLFxufTtcblxuQmFzaXNUZXh0dXJlTG9hZGVyLlRyYW5zY29kZXJGb3JtYXQgPSB7XG5cdEVUQzE6IDAsXG5cdEVUQzI6IDEsXG5cdEJDMTogMixcblx0QkMzOiAzLFxuXHRCQzQ6IDQsXG5cdEJDNTogNSxcblx0QkM3X002X09QQVFVRV9PTkxZOiA2LFxuXHRCQzdfTTU6IDcsXG5cdFBWUlRDMV80X1JHQjogOCxcblx0UFZSVEMxXzRfUkdCQTogOSxcblx0QVNUQ180eDQ6IDEwLFxuXHRBVENfUkdCOiAxMSxcblx0QVRDX1JHQkFfSU5URVJQT0xBVEVEX0FMUEhBOiAxMixcblx0UkdCQTMyOiAxMyxcblx0UkdCNTY1OiAxNCxcblx0QkdSNTY1OiAxNSxcblx0UkdCQTQ0NDQ6IDE2LFxufTtcblxuQmFzaXNUZXh0dXJlTG9hZGVyLkVuZ2luZUZvcm1hdCA9IHtcblx0UkdCQUZvcm1hdDogUkdCQUZvcm1hdCxcblx0UkdCQV9BU1RDXzR4NF9Gb3JtYXQ6IFJHQkFfQVNUQ180eDRfRm9ybWF0LFxuXHRSR0JBX0JQVENfRm9ybWF0OiBSR0JBX0JQVENfRm9ybWF0LFxuXHRSR0JBX0VUQzJfRUFDX0Zvcm1hdDogUkdCQV9FVEMyX0VBQ19Gb3JtYXQsXG5cdFJHQkFfUFZSVENfNEJQUFYxX0Zvcm1hdDogUkdCQV9QVlJUQ180QlBQVjFfRm9ybWF0LFxuXHRSR0JBX1MzVENfRFhUNV9Gb3JtYXQ6IFJHQkFfUzNUQ19EWFQ1X0Zvcm1hdCxcblx0UkdCX0VUQzFfRm9ybWF0OiBSR0JfRVRDMV9Gb3JtYXQsXG5cdFJHQl9FVEMyX0Zvcm1hdDogUkdCX0VUQzJfRm9ybWF0LFxuXHRSR0JfUFZSVENfNEJQUFYxX0Zvcm1hdDogUkdCX1BWUlRDXzRCUFBWMV9Gb3JtYXQsXG5cdFJHQl9TM1RDX0RYVDFfRm9ybWF0OiBSR0JfUzNUQ19EWFQxX0Zvcm1hdCxcbn07XG5cblxuLyogV0VCIFdPUktFUiAqL1xuXG5CYXNpc1RleHR1cmVMb2FkZXIuQmFzaXNXb3JrZXIgPSBmdW5jdGlvbiAoKSB7XG5cblx0bGV0IGNvbmZpZztcblx0bGV0IHRyYW5zY29kZXJQZW5kaW5nO1xuXHRsZXQgQmFzaXNNb2R1bGU7XG5cblx0Y29uc3QgRW5naW5lRm9ybWF0ID0gX0VuZ2luZUZvcm1hdDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXHRjb25zdCBUcmFuc2NvZGVyRm9ybWF0ID0gX1RyYW5zY29kZXJGb3JtYXQ7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblx0Y29uc3QgQmFzaXNGb3JtYXQgPSBfQmFzaXNGb3JtYXQ7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuXHRvbm1lc3NhZ2UgPSBmdW5jdGlvbiAoIGUgKSB7XG5cblx0XHRjb25zdCBtZXNzYWdlID0gZS5kYXRhO1xuXG5cdFx0c3dpdGNoICggbWVzc2FnZS50eXBlICkge1xuXG5cdFx0XHRjYXNlICdpbml0Jzpcblx0XHRcdFx0Y29uZmlnID0gbWVzc2FnZS5jb25maWc7XG5cdFx0XHRcdGluaXQoIG1lc3NhZ2UudHJhbnNjb2RlckJpbmFyeSApO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAndHJhbnNjb2RlJzpcblx0XHRcdFx0dHJhbnNjb2RlclBlbmRpbmcudGhlbiggKCkgPT4ge1xuXG5cdFx0XHRcdFx0dHJ5IHtcblxuXHRcdFx0XHRcdFx0Y29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBoYXNBbHBoYSwgbWlwbWFwcywgZm9ybWF0IH0gPSBtZXNzYWdlLnRhc2tDb25maWcubG93TGV2ZWxcblx0XHRcdFx0XHRcdFx0PyB0cmFuc2NvZGVMb3dMZXZlbCggbWVzc2FnZS50YXNrQ29uZmlnIClcblx0XHRcdFx0XHRcdFx0OiB0cmFuc2NvZGUoIG1lc3NhZ2UuYnVmZmVyc1sgMCBdICk7XG5cblx0XHRcdFx0XHRcdGNvbnN0IGJ1ZmZlcnMgPSBbXTtcblxuXHRcdFx0XHRcdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgbWlwbWFwcy5sZW5ndGg7ICsrIGkgKSB7XG5cblx0XHRcdFx0XHRcdFx0YnVmZmVycy5wdXNoKCBtaXBtYXBzWyBpIF0uZGF0YS5idWZmZXIgKTtcblxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRzZWxmLnBvc3RNZXNzYWdlKCB7IHR5cGU6ICd0cmFuc2NvZGUnLCBpZDogbWVzc2FnZS5pZCwgd2lkdGgsIGhlaWdodCwgaGFzQWxwaGEsIG1pcG1hcHMsIGZvcm1hdCB9LCBidWZmZXJzICk7XG5cblx0XHRcdFx0XHR9IGNhdGNoICggZXJyb3IgKSB7XG5cblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoIGVycm9yICk7XG5cblx0XHRcdFx0XHRcdHNlbGYucG9zdE1lc3NhZ2UoIHsgdHlwZTogJ2Vycm9yJywgaWQ6IG1lc3NhZ2UuaWQsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0gKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0fVxuXG5cdH07XG5cblx0ZnVuY3Rpb24gaW5pdCggd2FzbUJpbmFyeSApIHtcblxuXHRcdHRyYW5zY29kZXJQZW5kaW5nID0gbmV3IFByb21pc2UoICggcmVzb2x2ZSApID0+IHtcblxuXHRcdFx0QmFzaXNNb2R1bGUgPSB7IHdhc21CaW5hcnksIG9uUnVudGltZUluaXRpYWxpemVkOiByZXNvbHZlIH07XG5cdFx0XHRCQVNJUyggQmFzaXNNb2R1bGUgKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG5cdFx0fSApLnRoZW4oICgpID0+IHtcblxuXHRcdFx0QmFzaXNNb2R1bGUuaW5pdGlhbGl6ZUJhc2lzKCk7XG5cblx0XHR9ICk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIHRyYW5zY29kZUxvd0xldmVsKCB0YXNrQ29uZmlnICkge1xuXG5cdFx0Y29uc3QgeyBiYXNpc0Zvcm1hdCwgd2lkdGgsIGhlaWdodCwgaGFzQWxwaGEgfSA9IHRhc2tDb25maWc7XG5cblx0XHRjb25zdCB7IHRyYW5zY29kZXJGb3JtYXQsIGVuZ2luZUZvcm1hdCB9ID0gZ2V0VHJhbnNjb2RlckZvcm1hdCggYmFzaXNGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIGhhc0FscGhhICk7XG5cblx0XHRjb25zdCBibG9ja0J5dGVMZW5ndGggPSBCYXNpc01vZHVsZS5nZXRCeXRlc1BlckJsb2NrT3JQaXhlbCggdHJhbnNjb2RlckZvcm1hdCApO1xuXG5cdFx0YXNzZXJ0KCBCYXNpc01vZHVsZS5pc0Zvcm1hdFN1cHBvcnRlZCggdHJhbnNjb2RlckZvcm1hdCApLCAnVEhSRUUuQmFzaXNUZXh0dXJlTG9hZGVyOiBVbnN1cHBvcnRlZCBmb3JtYXQuJyApO1xuXG5cdFx0Y29uc3QgbWlwbWFwcyA9IFtdO1xuXG5cdFx0aWYgKCBiYXNpc0Zvcm1hdCA9PT0gQmFzaXNGb3JtYXQuRVRDMVMgKSB7XG5cblx0XHRcdGNvbnN0IHRyYW5zY29kZXIgPSBuZXcgQmFzaXNNb2R1bGUuTG93TGV2ZWxFVEMxU0ltYWdlVHJhbnNjb2RlcigpO1xuXG5cdFx0XHRjb25zdCB7IGVuZHBvaW50Q291bnQsIGVuZHBvaW50c0RhdGEsIHNlbGVjdG9yQ291bnQsIHNlbGVjdG9yc0RhdGEsIHRhYmxlc0RhdGEgfSA9IHRhc2tDb25maWcuZ2xvYmFsRGF0YTtcblxuXHRcdFx0dHJ5IHtcblxuXHRcdFx0XHRsZXQgb2s7XG5cblx0XHRcdFx0b2sgPSB0cmFuc2NvZGVyLmRlY29kZVBhbGV0dGVzKCBlbmRwb2ludENvdW50LCBlbmRwb2ludHNEYXRhLCBzZWxlY3RvckNvdW50LCBzZWxlY3RvcnNEYXRhICk7XG5cblx0XHRcdFx0YXNzZXJ0KCBvaywgJ1RIUkVFLkJhc2lzVGV4dHVyZUxvYWRlcjogZGVjb2RlUGFsZXR0ZXMoKSBmYWlsZWQuJyApO1xuXG5cdFx0XHRcdG9rID0gdHJhbnNjb2Rlci5kZWNvZGVUYWJsZXMoIHRhYmxlc0RhdGEgKTtcblxuXHRcdFx0XHRhc3NlcnQoIG9rLCAnVEhSRUUuQmFzaXNUZXh0dXJlTG9hZGVyOiBkZWNvZGVUYWJsZXMoKSBmYWlsZWQuJyApO1xuXG5cdFx0XHRcdGZvciAoIGxldCBpID0gMDsgaSA8IHRhc2tDb25maWcubGV2ZWxzLmxlbmd0aDsgaSArKyApIHtcblxuXHRcdFx0XHRcdGNvbnN0IGxldmVsID0gdGFza0NvbmZpZy5sZXZlbHNbIGkgXTtcblx0XHRcdFx0XHRjb25zdCBpbWFnZURlc2MgPSB0YXNrQ29uZmlnLmdsb2JhbERhdGEuaW1hZ2VEZXNjc1sgaSBdO1xuXG5cdFx0XHRcdFx0Y29uc3QgZHN0Qnl0ZUxlbmd0aCA9IGdldFRyYW5zY29kZWRJbWFnZUJ5dGVMZW5ndGgoIHRyYW5zY29kZXJGb3JtYXQsIGxldmVsLndpZHRoLCBsZXZlbC5oZWlnaHQgKTtcblx0XHRcdFx0XHRjb25zdCBkc3QgPSBuZXcgVWludDhBcnJheSggZHN0Qnl0ZUxlbmd0aCApO1xuXG5cdFx0XHRcdFx0b2sgPSB0cmFuc2NvZGVyLnRyYW5zY29kZUltYWdlKFxuXHRcdFx0XHRcdFx0dHJhbnNjb2RlckZvcm1hdCxcblx0XHRcdFx0XHRcdGRzdCwgZHN0Qnl0ZUxlbmd0aCAvIGJsb2NrQnl0ZUxlbmd0aCxcblx0XHRcdFx0XHRcdGxldmVsLmRhdGEsXG5cdFx0XHRcdFx0XHRnZXRXaWR0aEluQmxvY2tzKCB0cmFuc2NvZGVyRm9ybWF0LCBsZXZlbC53aWR0aCApLFxuXHRcdFx0XHRcdFx0Z2V0SGVpZ2h0SW5CbG9ja3MoIHRyYW5zY29kZXJGb3JtYXQsIGxldmVsLmhlaWdodCApLFxuXHRcdFx0XHRcdFx0bGV2ZWwud2lkdGgsIGxldmVsLmhlaWdodCwgbGV2ZWwuaW5kZXgsXG5cdFx0XHRcdFx0XHRpbWFnZURlc2MucmdiU2xpY2VCeXRlT2Zmc2V0LCBpbWFnZURlc2MucmdiU2xpY2VCeXRlTGVuZ3RoLFxuXHRcdFx0XHRcdFx0aW1hZ2VEZXNjLmFscGhhU2xpY2VCeXRlT2Zmc2V0LCBpbWFnZURlc2MuYWxwaGFTbGljZUJ5dGVMZW5ndGgsXG5cdFx0XHRcdFx0XHRpbWFnZURlc2MuaW1hZ2VGbGFncyxcblx0XHRcdFx0XHRcdGhhc0FscGhhLFxuXHRcdFx0XHRcdFx0ZmFsc2UsXG5cdFx0XHRcdFx0XHQwLCAwXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdGFzc2VydCggb2ssICdUSFJFRS5CYXNpc1RleHR1cmVMb2FkZXI6IHRyYW5zY29kZUltYWdlKCkgZmFpbGVkIGZvciBsZXZlbCAnICsgbGV2ZWwuaW5kZXggKyAnLicgKTtcblxuXHRcdFx0XHRcdG1pcG1hcHMucHVzaCggeyBkYXRhOiBkc3QsIHdpZHRoOiBsZXZlbC53aWR0aCwgaGVpZ2h0OiBsZXZlbC5oZWlnaHQgfSApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fSBmaW5hbGx5IHtcblxuXHRcdFx0XHR0cmFuc2NvZGVyLmRlbGV0ZSgpO1xuXG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCB0YXNrQ29uZmlnLmxldmVscy5sZW5ndGg7IGkgKysgKSB7XG5cblx0XHRcdFx0Y29uc3QgbGV2ZWwgPSB0YXNrQ29uZmlnLmxldmVsc1sgaSBdO1xuXG5cdFx0XHRcdGNvbnN0IGRzdEJ5dGVMZW5ndGggPSBnZXRUcmFuc2NvZGVkSW1hZ2VCeXRlTGVuZ3RoKCB0cmFuc2NvZGVyRm9ybWF0LCBsZXZlbC53aWR0aCwgbGV2ZWwuaGVpZ2h0ICk7XG5cdFx0XHRcdGNvbnN0IGRzdCA9IG5ldyBVaW50OEFycmF5KCBkc3RCeXRlTGVuZ3RoICk7XG5cblx0XHRcdFx0Y29uc3Qgb2sgPSBCYXNpc01vZHVsZS50cmFuc2NvZGVVQVNUQ0ltYWdlKFxuXHRcdFx0XHRcdHRyYW5zY29kZXJGb3JtYXQsXG5cdFx0XHRcdFx0ZHN0LCBkc3RCeXRlTGVuZ3RoIC8gYmxvY2tCeXRlTGVuZ3RoLFxuXHRcdFx0XHRcdGxldmVsLmRhdGEsXG5cdFx0XHRcdFx0Z2V0V2lkdGhJbkJsb2NrcyggdHJhbnNjb2RlckZvcm1hdCwgbGV2ZWwud2lkdGggKSxcblx0XHRcdFx0XHRnZXRIZWlnaHRJbkJsb2NrcyggdHJhbnNjb2RlckZvcm1hdCwgbGV2ZWwuaGVpZ2h0ICksXG5cdFx0XHRcdFx0bGV2ZWwud2lkdGgsIGxldmVsLmhlaWdodCwgbGV2ZWwuaW5kZXgsXG5cdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRsZXZlbC5kYXRhLmJ5dGVMZW5ndGgsXG5cdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRoYXNBbHBoYSxcblx0XHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0XHQwLCAwLFxuXHRcdFx0XHRcdC0gMSwgLSAxXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0YXNzZXJ0KCBvaywgJ1RIUkVFLkJhc2lzVGV4dHVyZUxvYWRlcjogdHJhbnNjb2RlVUFTVENJbWFnZSgpIGZhaWxlZCBmb3IgbGV2ZWwgJyArIGxldmVsLmluZGV4ICsgJy4nICk7XG5cblx0XHRcdFx0bWlwbWFwcy5wdXNoKCB7IGRhdGE6IGRzdCwgd2lkdGg6IGxldmVsLndpZHRoLCBoZWlnaHQ6IGxldmVsLmhlaWdodCB9ICk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHJldHVybiB7IHdpZHRoLCBoZWlnaHQsIGhhc0FscGhhLCBtaXBtYXBzLCBmb3JtYXQ6IGVuZ2luZUZvcm1hdCB9O1xuXG5cdH1cblxuXHRmdW5jdGlvbiB0cmFuc2NvZGUoIGJ1ZmZlciApIHtcblxuXHRcdGNvbnN0IGJhc2lzRmlsZSA9IG5ldyBCYXNpc01vZHVsZS5CYXNpc0ZpbGUoIG5ldyBVaW50OEFycmF5KCBidWZmZXIgKSApO1xuXG5cdFx0Y29uc3QgYmFzaXNGb3JtYXQgPSBiYXNpc0ZpbGUuaXNVQVNUQygpID8gQmFzaXNGb3JtYXQuVUFTVENfNHg0IDogQmFzaXNGb3JtYXQuRVRDMVM7XG5cdFx0Y29uc3Qgd2lkdGggPSBiYXNpc0ZpbGUuZ2V0SW1hZ2VXaWR0aCggMCwgMCApO1xuXHRcdGNvbnN0IGhlaWdodCA9IGJhc2lzRmlsZS5nZXRJbWFnZUhlaWdodCggMCwgMCApO1xuXHRcdGNvbnN0IGxldmVscyA9IGJhc2lzRmlsZS5nZXROdW1MZXZlbHMoIDAgKTtcblx0XHRjb25zdCBoYXNBbHBoYSA9IGJhc2lzRmlsZS5nZXRIYXNBbHBoYSgpO1xuXG5cdFx0ZnVuY3Rpb24gY2xlYW51cCgpIHtcblxuXHRcdFx0YmFzaXNGaWxlLmNsb3NlKCk7XG5cdFx0XHRiYXNpc0ZpbGUuZGVsZXRlKCk7XG5cblx0XHR9XG5cblx0XHRjb25zdCB7IHRyYW5zY29kZXJGb3JtYXQsIGVuZ2luZUZvcm1hdCB9ID0gZ2V0VHJhbnNjb2RlckZvcm1hdCggYmFzaXNGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIGhhc0FscGhhICk7XG5cblx0XHRpZiAoICEgd2lkdGggfHwgISBoZWlnaHQgfHwgISBsZXZlbHMgKSB7XG5cblx0XHRcdGNsZWFudXAoKTtcblx0XHRcdHRocm93IG5ldyBFcnJvciggJ1RIUkVFLkJhc2lzVGV4dHVyZUxvYWRlcjpcdEludmFsaWQgdGV4dHVyZScgKTtcblxuXHRcdH1cblxuXHRcdGlmICggISBiYXNpc0ZpbGUuc3RhcnRUcmFuc2NvZGluZygpICkge1xuXG5cdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5CYXNpc1RleHR1cmVMb2FkZXI6IC5zdGFydFRyYW5zY29kaW5nIGZhaWxlZCcgKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IG1pcG1hcHMgPSBbXTtcblxuXHRcdGZvciAoIGxldCBtaXAgPSAwOyBtaXAgPCBsZXZlbHM7IG1pcCArKyApIHtcblxuXHRcdFx0Y29uc3QgbWlwV2lkdGggPSBiYXNpc0ZpbGUuZ2V0SW1hZ2VXaWR0aCggMCwgbWlwICk7XG5cdFx0XHRjb25zdCBtaXBIZWlnaHQgPSBiYXNpc0ZpbGUuZ2V0SW1hZ2VIZWlnaHQoIDAsIG1pcCApO1xuXHRcdFx0Y29uc3QgZHN0ID0gbmV3IFVpbnQ4QXJyYXkoIGJhc2lzRmlsZS5nZXRJbWFnZVRyYW5zY29kZWRTaXplSW5CeXRlcyggMCwgbWlwLCB0cmFuc2NvZGVyRm9ybWF0ICkgKTtcblxuXHRcdFx0Y29uc3Qgc3RhdHVzID0gYmFzaXNGaWxlLnRyYW5zY29kZUltYWdlKFxuXHRcdFx0XHRkc3QsXG5cdFx0XHRcdDAsXG5cdFx0XHRcdG1pcCxcblx0XHRcdFx0dHJhbnNjb2RlckZvcm1hdCxcblx0XHRcdFx0MCxcblx0XHRcdFx0aGFzQWxwaGFcblx0XHRcdCk7XG5cblx0XHRcdGlmICggISBzdGF0dXMgKSB7XG5cblx0XHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5CYXNpc1RleHR1cmVMb2FkZXI6IC50cmFuc2NvZGVJbWFnZSBmYWlsZWQuJyApO1xuXG5cdFx0XHR9XG5cblx0XHRcdG1pcG1hcHMucHVzaCggeyBkYXRhOiBkc3QsIHdpZHRoOiBtaXBXaWR0aCwgaGVpZ2h0OiBtaXBIZWlnaHQgfSApO1xuXG5cdFx0fVxuXG5cdFx0Y2xlYW51cCgpO1xuXG5cdFx0cmV0dXJuIHsgd2lkdGgsIGhlaWdodCwgaGFzQWxwaGEsIG1pcG1hcHMsIGZvcm1hdDogZW5naW5lRm9ybWF0IH07XG5cblx0fVxuXG5cdC8vXG5cblx0Ly8gT3B0aW1hbCBjaG9pY2Ugb2YgYSB0cmFuc2NvZGVyIHRhcmdldCBmb3JtYXQgZGVwZW5kcyBvbiB0aGUgQmFzaXMgZm9ybWF0IChFVEMxUyBvciBVQVNUQyksXG5cdC8vIGRldmljZSBjYXBhYmlsaXRpZXMsIGFuZCB0ZXh0dXJlIGRpbWVuc2lvbnMuIFRoZSBsaXN0IGJlbG93IHJhbmtzIHRoZSBmb3JtYXRzIHNlcGFyYXRlbHlcblx0Ly8gZm9yIEVUQzFTIGFuZCBVQVNUQy5cblx0Ly9cblx0Ly8gSW4gc29tZSBjYXNlcywgdHJhbnNjb2RpbmcgVUFTVEMgdG8gUkdCQTMyIG1pZ2h0IGJlIHByZWZlcnJlZCBmb3IgaGlnaGVyIHF1YWxpdHkgKGF0XG5cdC8vIHNpZ25pZmljYW50IG1lbW9yeSBjb3N0KSBjb21wYXJlZCB0byBFVEMxLzIsIEJDMS8zLCBhbmQgUFZSVEMuIFRoZSB0cmFuc2NvZGVyIGN1cnJlbnRseVxuXHQvLyBjaG9vc2VzIFJHQkEzMiBvbmx5IGFzIGEgbGFzdCByZXNvcnQgYW5kIGRvZXMgbm90IGV4cG9zZSB0aGF0IG9wdGlvbiB0byB0aGUgY2FsbGVyLlxuXHRjb25zdCBGT1JNQVRfT1BUSU9OUyA9IFtcblx0XHR7XG5cdFx0XHRpZjogJ2FzdGNTdXBwb3J0ZWQnLFxuXHRcdFx0YmFzaXNGb3JtYXQ6IFsgQmFzaXNGb3JtYXQuVUFTVENfNHg0IF0sXG5cdFx0XHR0cmFuc2NvZGVyRm9ybWF0OiBbIFRyYW5zY29kZXJGb3JtYXQuQVNUQ180eDQsIFRyYW5zY29kZXJGb3JtYXQuQVNUQ180eDQgXSxcblx0XHRcdGVuZ2luZUZvcm1hdDogWyBFbmdpbmVGb3JtYXQuUkdCQV9BU1RDXzR4NF9Gb3JtYXQsIEVuZ2luZUZvcm1hdC5SR0JBX0FTVENfNHg0X0Zvcm1hdCBdLFxuXHRcdFx0cHJpb3JpdHlFVEMxUzogSW5maW5pdHksXG5cdFx0XHRwcmlvcml0eVVBU1RDOiAxLFxuXHRcdFx0bmVlZHNQb3dlck9mVHdvOiBmYWxzZSxcblx0XHR9LFxuXHRcdHtcblx0XHRcdGlmOiAnYnB0Y1N1cHBvcnRlZCcsXG5cdFx0XHRiYXNpc0Zvcm1hdDogWyBCYXNpc0Zvcm1hdC5FVEMxUywgQmFzaXNGb3JtYXQuVUFTVENfNHg0IF0sXG5cdFx0XHR0cmFuc2NvZGVyRm9ybWF0OiBbIFRyYW5zY29kZXJGb3JtYXQuQkM3X001LCBUcmFuc2NvZGVyRm9ybWF0LkJDN19NNSBdLFxuXHRcdFx0ZW5naW5lRm9ybWF0OiBbIEVuZ2luZUZvcm1hdC5SR0JBX0JQVENfRm9ybWF0LCBFbmdpbmVGb3JtYXQuUkdCQV9CUFRDX0Zvcm1hdCBdLFxuXHRcdFx0cHJpb3JpdHlFVEMxUzogMyxcblx0XHRcdHByaW9yaXR5VUFTVEM6IDIsXG5cdFx0XHRuZWVkc1Bvd2VyT2ZUd286IGZhbHNlLFxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0aWY6ICdkeHRTdXBwb3J0ZWQnLFxuXHRcdFx0YmFzaXNGb3JtYXQ6IFsgQmFzaXNGb3JtYXQuRVRDMVMsIEJhc2lzRm9ybWF0LlVBU1RDXzR4NCBdLFxuXHRcdFx0dHJhbnNjb2RlckZvcm1hdDogWyBUcmFuc2NvZGVyRm9ybWF0LkJDMSwgVHJhbnNjb2RlckZvcm1hdC5CQzMgXSxcblx0XHRcdGVuZ2luZUZvcm1hdDogWyBFbmdpbmVGb3JtYXQuUkdCX1MzVENfRFhUMV9Gb3JtYXQsIEVuZ2luZUZvcm1hdC5SR0JBX1MzVENfRFhUNV9Gb3JtYXQgXSxcblx0XHRcdHByaW9yaXR5RVRDMVM6IDQsXG5cdFx0XHRwcmlvcml0eVVBU1RDOiA1LFxuXHRcdFx0bmVlZHNQb3dlck9mVHdvOiBmYWxzZSxcblx0XHR9LFxuXHRcdHtcblx0XHRcdGlmOiAnZXRjMlN1cHBvcnRlZCcsXG5cdFx0XHRiYXNpc0Zvcm1hdDogWyBCYXNpc0Zvcm1hdC5FVEMxUywgQmFzaXNGb3JtYXQuVUFTVENfNHg0IF0sXG5cdFx0XHR0cmFuc2NvZGVyRm9ybWF0OiBbIFRyYW5zY29kZXJGb3JtYXQuRVRDMSwgVHJhbnNjb2RlckZvcm1hdC5FVEMyIF0sXG5cdFx0XHRlbmdpbmVGb3JtYXQ6IFsgRW5naW5lRm9ybWF0LlJHQl9FVEMyX0Zvcm1hdCwgRW5naW5lRm9ybWF0LlJHQkFfRVRDMl9FQUNfRm9ybWF0IF0sXG5cdFx0XHRwcmlvcml0eUVUQzFTOiAxLFxuXHRcdFx0cHJpb3JpdHlVQVNUQzogMyxcblx0XHRcdG5lZWRzUG93ZXJPZlR3bzogZmFsc2UsXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRpZjogJ2V0YzFTdXBwb3J0ZWQnLFxuXHRcdFx0YmFzaXNGb3JtYXQ6IFsgQmFzaXNGb3JtYXQuRVRDMVMsIEJhc2lzRm9ybWF0LlVBU1RDXzR4NCBdLFxuXHRcdFx0dHJhbnNjb2RlckZvcm1hdDogWyBUcmFuc2NvZGVyRm9ybWF0LkVUQzEsIFRyYW5zY29kZXJGb3JtYXQuRVRDMSBdLFxuXHRcdFx0ZW5naW5lRm9ybWF0OiBbIEVuZ2luZUZvcm1hdC5SR0JfRVRDMV9Gb3JtYXQsIEVuZ2luZUZvcm1hdC5SR0JfRVRDMV9Gb3JtYXQgXSxcblx0XHRcdHByaW9yaXR5RVRDMVM6IDIsXG5cdFx0XHRwcmlvcml0eVVBU1RDOiA0LFxuXHRcdFx0bmVlZHNQb3dlck9mVHdvOiBmYWxzZSxcblx0XHR9LFxuXHRcdHtcblx0XHRcdGlmOiAncHZydGNTdXBwb3J0ZWQnLFxuXHRcdFx0YmFzaXNGb3JtYXQ6IFsgQmFzaXNGb3JtYXQuRVRDMVMsIEJhc2lzRm9ybWF0LlVBU1RDXzR4NCBdLFxuXHRcdFx0dHJhbnNjb2RlckZvcm1hdDogWyBUcmFuc2NvZGVyRm9ybWF0LlBWUlRDMV80X1JHQiwgVHJhbnNjb2RlckZvcm1hdC5QVlJUQzFfNF9SR0JBIF0sXG5cdFx0XHRlbmdpbmVGb3JtYXQ6IFsgRW5naW5lRm9ybWF0LlJHQl9QVlJUQ180QlBQVjFfRm9ybWF0LCBFbmdpbmVGb3JtYXQuUkdCQV9QVlJUQ180QlBQVjFfRm9ybWF0IF0sXG5cdFx0XHRwcmlvcml0eUVUQzFTOiA1LFxuXHRcdFx0cHJpb3JpdHlVQVNUQzogNixcblx0XHRcdG5lZWRzUG93ZXJPZlR3bzogdHJ1ZSxcblx0XHR9LFxuXHRdO1xuXG5cdGNvbnN0IEVUQzFTX09QVElPTlMgPSBGT1JNQVRfT1BUSU9OUy5zb3J0KCBmdW5jdGlvbiAoIGEsIGIgKSB7XG5cblx0XHRyZXR1cm4gYS5wcmlvcml0eUVUQzFTIC0gYi5wcmlvcml0eUVUQzFTO1xuXG5cdH0gKTtcblx0Y29uc3QgVUFTVENfT1BUSU9OUyA9IEZPUk1BVF9PUFRJT05TLnNvcnQoIGZ1bmN0aW9uICggYSwgYiApIHtcblxuXHRcdHJldHVybiBhLnByaW9yaXR5VUFTVEMgLSBiLnByaW9yaXR5VUFTVEM7XG5cblx0fSApO1xuXG5cdGZ1bmN0aW9uIGdldFRyYW5zY29kZXJGb3JtYXQoIGJhc2lzRm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCBoYXNBbHBoYSApIHtcblxuXHRcdGxldCB0cmFuc2NvZGVyRm9ybWF0O1xuXHRcdGxldCBlbmdpbmVGb3JtYXQ7XG5cblx0XHRjb25zdCBvcHRpb25zID0gYmFzaXNGb3JtYXQgPT09IEJhc2lzRm9ybWF0LkVUQzFTID8gRVRDMVNfT1BUSU9OUyA6IFVBU1RDX09QVElPTlM7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSArKyApIHtcblxuXHRcdFx0Y29uc3Qgb3B0ID0gb3B0aW9uc1sgaSBdO1xuXG5cdFx0XHRpZiAoICEgY29uZmlnWyBvcHQuaWYgXSApIGNvbnRpbnVlO1xuXHRcdFx0aWYgKCAhIG9wdC5iYXNpc0Zvcm1hdC5pbmNsdWRlcyggYmFzaXNGb3JtYXQgKSApIGNvbnRpbnVlO1xuXHRcdFx0aWYgKCBvcHQubmVlZHNQb3dlck9mVHdvICYmICEgKCBpc1Bvd2VyT2ZUd28oIHdpZHRoICkgJiYgaXNQb3dlck9mVHdvKCBoZWlnaHQgKSApICkgY29udGludWU7XG5cblx0XHRcdHRyYW5zY29kZXJGb3JtYXQgPSBvcHQudHJhbnNjb2RlckZvcm1hdFsgaGFzQWxwaGEgPyAxIDogMCBdO1xuXHRcdFx0ZW5naW5lRm9ybWF0ID0gb3B0LmVuZ2luZUZvcm1hdFsgaGFzQWxwaGEgPyAxIDogMCBdO1xuXG5cdFx0XHRyZXR1cm4geyB0cmFuc2NvZGVyRm9ybWF0LCBlbmdpbmVGb3JtYXQgfTtcblxuXHRcdH1cblxuXHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkJhc2lzVGV4dHVyZUxvYWRlcjogTm8gc3VpdGFibGUgY29tcHJlc3NlZCB0ZXh0dXJlIGZvcm1hdCBmb3VuZC4gRGVjb2RpbmcgdG8gUkdCQTMyLicgKTtcblxuXHRcdHRyYW5zY29kZXJGb3JtYXQgPSBUcmFuc2NvZGVyRm9ybWF0LlJHQkEzMjtcblx0XHRlbmdpbmVGb3JtYXQgPSBFbmdpbmVGb3JtYXQuUkdCQUZvcm1hdDtcblxuXHRcdHJldHVybiB7IHRyYW5zY29kZXJGb3JtYXQsIGVuZ2luZUZvcm1hdCB9O1xuXG5cdH1cblxuXHRmdW5jdGlvbiBhc3NlcnQoIG9rLCBtZXNzYWdlICkge1xuXG5cdFx0aWYgKCAhIG9rICkgdGhyb3cgbmV3IEVycm9yKCBtZXNzYWdlICk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGdldFdpZHRoSW5CbG9ja3MoIHRyYW5zY29kZXJGb3JtYXQsIHdpZHRoICkge1xuXG5cdFx0cmV0dXJuIE1hdGguY2VpbCggd2lkdGggLyBCYXNpc01vZHVsZS5nZXRGb3JtYXRCbG9ja1dpZHRoKCB0cmFuc2NvZGVyRm9ybWF0ICkgKTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0SGVpZ2h0SW5CbG9ja3MoIHRyYW5zY29kZXJGb3JtYXQsIGhlaWdodCApIHtcblxuXHRcdHJldHVybiBNYXRoLmNlaWwoIGhlaWdodCAvIEJhc2lzTW9kdWxlLmdldEZvcm1hdEJsb2NrSGVpZ2h0KCB0cmFuc2NvZGVyRm9ybWF0ICkgKTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0VHJhbnNjb2RlZEltYWdlQnl0ZUxlbmd0aCggdHJhbnNjb2RlckZvcm1hdCwgd2lkdGgsIGhlaWdodCApIHtcblxuXHRcdGNvbnN0IGJsb2NrQnl0ZUxlbmd0aCA9IEJhc2lzTW9kdWxlLmdldEJ5dGVzUGVyQmxvY2tPclBpeGVsKCB0cmFuc2NvZGVyRm9ybWF0ICk7XG5cblx0XHRpZiAoIEJhc2lzTW9kdWxlLmZvcm1hdElzVW5jb21wcmVzc2VkKCB0cmFuc2NvZGVyRm9ybWF0ICkgKSB7XG5cblx0XHRcdHJldHVybiB3aWR0aCAqIGhlaWdodCAqIGJsb2NrQnl0ZUxlbmd0aDtcblxuXHRcdH1cblxuXHRcdGlmICggdHJhbnNjb2RlckZvcm1hdCA9PT0gVHJhbnNjb2RlckZvcm1hdC5QVlJUQzFfNF9SR0Jcblx0XHRcdFx0fHwgdHJhbnNjb2RlckZvcm1hdCA9PT0gVHJhbnNjb2RlckZvcm1hdC5QVlJUQzFfNF9SR0JBICkge1xuXG5cdFx0XHQvLyBHTCByZXF1aXJlcyBleHRyYSBwYWRkaW5nIGZvciB2ZXJ5IHNtYWxsIHRleHR1cmVzOlxuXHRcdFx0Ly8gaHR0cHM6Ly93d3cua2hyb25vcy5vcmcvcmVnaXN0cnkvT3BlbkdML2V4dGVuc2lvbnMvSU1HL0lNR190ZXh0dXJlX2NvbXByZXNzaW9uX3B2cnRjLnR4dFxuXHRcdFx0Y29uc3QgcGFkZGVkV2lkdGggPSAoIHdpZHRoICsgMyApICYgfiAzO1xuXHRcdFx0Y29uc3QgcGFkZGVkSGVpZ2h0ID0gKCBoZWlnaHQgKyAzICkgJiB+IDM7XG5cblx0XHRcdHJldHVybiAoIE1hdGgubWF4KCA4LCBwYWRkZWRXaWR0aCApICogTWF0aC5tYXgoIDgsIHBhZGRlZEhlaWdodCApICogNCArIDcgKSAvIDg7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gKCBnZXRXaWR0aEluQmxvY2tzKCB0cmFuc2NvZGVyRm9ybWF0LCB3aWR0aCApXG5cdFx0XHQqIGdldEhlaWdodEluQmxvY2tzKCB0cmFuc2NvZGVyRm9ybWF0LCBoZWlnaHQgKVxuXHRcdFx0KiBibG9ja0J5dGVMZW5ndGggKTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gaXNQb3dlck9mVHdvKCB2YWx1ZSApIHtcblxuXHRcdGlmICggdmFsdWUgPD0gMiApIHJldHVybiB0cnVlO1xuXG5cdFx0cmV0dXJuICggdmFsdWUgJiAoIHZhbHVlIC0gMSApICkgPT09IDAgJiYgdmFsdWUgIT09IDA7XG5cblx0fVxuXG59O1xuXG5leHBvcnQgeyBCYXNpc1RleHR1cmVMb2FkZXIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/.pnpm/three@0.139.1/node_modules/three/examples/jsm/loaders/BasisTextureLoader.js\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("351f459ad07324d0ab99")
/******/ })();
/******/ 
/******/ /* webpack/runtime/compat */
/******/ 
/******/ if (typeof __webpack_require__ !== 'undefined') __webpack_require__.ab = "/home/trindadematheus/workspace/portus/apps/desktop/.webpack/renderer" + "/native_modules/";
/******/ 
/******/ }
);